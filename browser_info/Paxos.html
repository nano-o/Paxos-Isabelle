<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Paxos</title>
</head>


<body>
<div class="head">
<h1>Theory Paxos</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We specify the Paxos algorithm and prove it safe using a refinement mapping to a higher-level 
specification (which we also prove safe)›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="Paxos.html"><span>Paxos</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="../../HOL/HOL/Main.html"><span>Main</span></a><span> </span><span class="quoted"><span>"</span><a href="IOAutomata.Simulations.html"><span>IOAutomata.Simulations</span></a><span>"</span></span><span> </span><span class="quoted"><span>"</span><a href="HOL-Eisbach.Eisbach_Tools.html"><span>HOL-Eisbach.Eisbach_Tools</span></a><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>"The theory Simulations is part of the I/O-Automata formalization found at </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>url</span></span><span> </span><a href="https://github.com/nano-o/IO-Automata"><span>‹https://github.com/nano-o/IO-Automata›</span></a><span class="antiquote"><span>}</span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The Paxos I/O-Automaton›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.backward_sim_soundness|fact"><span class="entity_def" id="Paxos.backward_sim_execs|fact"><span class="entity_def" id="Paxos.forward_sim_soundness|fact"><span class="entity_def" id="Paxos.forward_sim_execs|fact"><span class="entity_def" id="Paxos.ref_map_soundness|fact"><span class="entity_def" id="Paxos.ref_map_execs|fact"><span class="entity_def" id="Paxos.exec_inc_imp_trace_inc|fact"><span class="entity_def" id="Paxos.step_eq_traces|fact"><span class="entity_def" id="Paxos.is_backward_sim_def|fact"><span class="entity_def" id="Paxos.is_forward_sim_def|fact"><span class="entity_def" id="Paxos.is_ref_map_def|fact"><span class="entity_def" id="Paxos.refines_def|fact"><span class="entity_def" id="Paxos.trace_match_def|fact"><span class="entity_def" id="Paxos.last_state_of_append|fact"><span class="entity_def" id="Paxos.append_exec_frags_is_exec_frag|fact"><span class="entity_def" id="Paxos.trace_append_is_append_trace|fact"><span class="entity_def" id="Paxos.trace_same_ext|fact"><span class="entity_def" id="Paxos.exec_frag_prefix|fact"><span class="entity_def" id="Paxos.trans_from_last_state|fact"><span class="entity_def" id="Paxos.last_state_reachable|fact"><span class="entity_def" id="Paxos.append_exec_def|fact"><span class="entity_def" id="Paxos.cons_exec_def|fact"><span class="entity_def" id="Paxos.ioa_implements_def|fact"><span class="entity_def" id="Paxos.proj_trace_def|fact"><span class="entity_def" id="Paxos.traces_simps|fact"><span class="entity_def" id="Paxos.traces_alt|fact"><span class="entity_def" id="Paxos.traces_def|fact"><span class="entity_def" id="Paxos.is_trace_of_def|fact"><span class="entity_def" id="Paxos.is_schedule_of_def|fact"><span class="entity_def" id="Paxos.trace_def|fact"><span class="entity_def" id="Paxos.schedule_def|fact"><span class="entity_def" id="Paxos.filter_act_def|fact"><span class="entity_def" id="Paxos.is_exec_of_def|fact"><span class="entity_def" id="Paxos.is_exec_frag_of.elims|fact"><span class="entity_def" id="Paxos.is_exec_frag_of.induct|fact"><span class="entity_def" id="Paxos.is_exec_frag_of.simps|fact"><span class="entity_def" id="Paxos.is_exec_frag_of.pelims|fact"><span class="entity_def" id="Paxos.is_exec_frag_of.cases|fact"><span class="entity_def" id="Paxos.is_exec_frag_of.termination|fact"><span class="entity_def" id="Paxos.is_exec_frag_of.pinduct|fact"><span class="entity_def" id="Paxos.is_exec_frag_of.psimps|fact"><span class="entity_def" id="Paxos.is_exec_frag_of_rel.inducts|fact"><span class="entity_def" id="Paxos.is_exec_frag_of_rel.simps|fact"><span class="entity_def" id="Paxos.is_exec_frag_of_rel.induct|fact"><span class="entity_def" id="Paxos.is_exec_frag_of_rel.cases|fact"><span class="entity_def" id="Paxos.is_exec_frag_of_rel.intros|fact"><span class="entity_def" id="Paxos.is_exec_frag_of_graph.inducts|fact"><span class="entity_def" id="Paxos.is_exec_frag_of_graph.simps|fact"><span class="entity_def" id="Paxos.is_exec_frag_of_graph.induct|fact"><span class="entity_def" id="Paxos.is_exec_frag_of_graph.cases|fact"><span class="entity_def" id="Paxos.is_exec_frag_of_graph.intros|fact"><span class="entity_def" id="Paxos.is_exec_frag_of_ind.inducts|fact"><span class="entity_def" id="Paxos.is_exec_frag_of_ind.simps|fact"><span class="entity_def" id="Paxos.is_exec_frag_of_ind.induct|fact"><span class="entity_def" id="Paxos.is_exec_frag_of_ind.cases|fact"><span class="entity_def" id="Paxos.is_exec_frag_of_ind.intros|fact"><span class="entity_def" id="Paxos.last_state.elims|fact"><span class="entity_def" id="Paxos.last_state.induct|fact"><span class="entity_def" id="Paxos.last_state.simps|fact"><span class="entity_def" id="Paxos.last_state.pelims|fact"><span class="entity_def" id="Paxos.last_state.cases|fact"><span class="entity_def" id="Paxos.last_state.termination|fact"><span class="entity_def" id="Paxos.last_state.pinduct|fact"><span class="entity_def" id="Paxos.last_state.psimps|fact"><span class="entity_def" id="Paxos.last_state_rel.inducts|fact"><span class="entity_def" id="Paxos.last_state_rel.simps|fact"><span class="entity_def" id="Paxos.last_state_rel.induct|fact"><span class="entity_def" id="Paxos.last_state_rel.cases|fact"><span class="entity_def" id="Paxos.last_state_rel.intros|fact"><span class="entity_def" id="Paxos.last_state_graph.inducts|fact"><span class="entity_def" id="Paxos.last_state_graph.simps|fact"><span class="entity_def" id="Paxos.last_state_graph.induct|fact"><span class="entity_def" id="Paxos.last_state_graph.cases|fact"><span class="entity_def" id="Paxos.last_state_graph.intros|fact"><span class="entity_def" id="Paxos.ioa_simps|fact"><span class="entity_def" id="Paxos.asig_simps|fact"><span class="entity_def" id="Paxos.par_def|fact"><span class="entity_def" id="Paxos.par2_def|fact"><span class="entity_def" id="Paxos.asig_comp_def|fact"><span class="entity_def" id="Paxos.asig_comp2_def|fact"><span class="entity_def" id="Paxos.compatible_def|fact"><span class="entity_def" id="Paxos.compatible2_def|fact"><span class="entity_def" id="Paxos.is_ioa_fam_def|fact"><span class="entity_def" id="Paxos.invariantI|fact"><span class="entity_def" id="Paxos.invariant_def|fact"><span class="entity_def" id="Paxos.reachable.inducts|fact"><span class="entity_def" id="Paxos.reachable.simps|fact"><span class="entity_def" id="Paxos.reachable.induct|fact"><span class="entity_def" id="Paxos.reachable.cases|fact"><span class="entity_def" id="Paxos.reachable.intros|fact"><span class="entity_def" id="Paxos.reachable.reachable_n|fact"><span class="entity_def" id="Paxos.reachable.reachable_0|fact"><span class="entity_def" id="Paxos.rename_def|fact"><span class="entity_def" id="Paxos.rename_set_def|fact"><span class="entity_def" id="Paxos.is_trans_def|fact"><span class="entity_def" id="Paxos.hide_def|fact"><span class="entity_def" id="Paxos.is_ioa_def|fact"><span class="entity_def" id="Paxos.hide_asig_def|fact"><span class="entity_def" id="Paxos.internal_inter_external|fact"><span class="entity_def" id="Paxos.is_asig_def|fact"><span class="entity_def" id="Paxos.locals_def|fact"><span class="entity_def" id="Paxos.externals_def|fact"><span class="entity_def" id="Paxos.actions_def|fact"><span class="entity_def" id="Paxos.backward_sim_soundness|thm"><span class="entity_def" id="Paxos.backward_sim_execs|thm"><span class="entity_def" id="Paxos.forward_sim_soundness|thm"><span class="entity_def" id="Paxos.forward_sim_execs|thm"><span class="entity_def" id="Paxos.ref_map_execs|thm"><span class="entity_def" id="Paxos.exec_inc_imp_trace_inc|thm"><span class="entity_def" id="Paxos.step_eq_traces|thm"><span class="entity_def" id="Paxos.is_backward_sim_def|thm"><span class="entity_def" id="Paxos.is_forward_sim_def|thm"><span class="entity_def" id="Paxos.last_state_of_append|thm"><span class="entity_def" id="Paxos.append_exec_frags_is_exec_frag|thm"><span class="entity_def" id="Paxos.trace_append_is_append_trace|thm"><span class="entity_def" id="Paxos.trace_same_ext|thm"><span class="entity_def" id="Paxos.exec_frag_prefix|thm"><span class="entity_def" id="Paxos.trans_from_last_state|thm"><span class="entity_def" id="Paxos.last_state_reachable|thm"><span class="entity_def" id="Paxos.append_exec_def|thm"><span class="entity_def" id="Paxos.cons_exec_def|thm"><span class="entity_def" id="Paxos.ioa_implements_def|thm"><span class="entity_def" id="Paxos.proj_trace_def|thm"><span class="entity_def" id="Paxos.traces_simps(7)|thm"><span class="entity_def" id="Paxos.traces_simps(6)|thm"><span class="entity_def" id="Paxos.traces_simps(5)|thm"><span class="entity_def" id="Paxos.traces_simps(4)|thm"><span class="entity_def" id="Paxos.traces_simps(3)|thm"><span class="entity_def" id="Paxos.traces_simps(2)|thm"><span class="entity_def" id="Paxos.traces_simps(1)|thm"><span class="entity_def" id="Paxos.traces_alt|thm"><span class="entity_def" id="Paxos.traces_def|thm"><span class="entity_def" id="Paxos.is_trace_of_def|thm"><span class="entity_def" id="Paxos.is_schedule_of_def|thm"><span class="entity_def" id="Paxos.is_exec_of_def|thm"><span class="entity_def" id="Paxos.is_exec_frag_of.simps(3)|thm"><span class="entity_def" id="Paxos.is_exec_frag_of.simps(2)|thm"><span class="entity_def" id="Paxos.is_exec_frag_of.simps(1)|thm"><span class="entity_def" id="Paxos.is_exec_frag_of.termination|thm"><span class="entity_def" id="Paxos.is_exec_frag_of.psimps(3)|thm"><span class="entity_def" id="Paxos.is_exec_frag_of.psimps(2)|thm"><span class="entity_def" id="Paxos.is_exec_frag_of.psimps(1)|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_rel.intros|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_graph.intros(3)|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_graph.intros(2)|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_graph.intros(1)|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_ind.intros(2)|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_ind.intros(1)|thm"><span class="entity_def" id="Paxos.last_state.simps(2)|thm"><span class="entity_def" id="Paxos.last_state.simps(1)|thm"><span class="entity_def" id="Paxos.last_state.termination|thm"><span class="entity_def" id="Paxos.last_state.psimps(2)|thm"><span class="entity_def" id="Paxos.last_state.psimps(1)|thm"><span class="entity_def" id="Paxos.last_state_graph.intros(2)|thm"><span class="entity_def" id="Paxos.last_state_graph.intros(1)|thm"><span class="entity_def" id="Paxos.ioa_simps(5)|thm"><span class="entity_def" id="Paxos.ioa_simps(4)|thm"><span class="entity_def" id="Paxos.ioa_simps(3)|thm"><span class="entity_def" id="Paxos.ioa_simps(2)|thm"><span class="entity_def" id="Paxos.ioa_simps(1)|thm"><span class="entity_def" id="Paxos.asig_simps(8)|thm"><span class="entity_def" id="Paxos.asig_simps(7)|thm"><span class="entity_def" id="Paxos.asig_simps(6)|thm"><span class="entity_def" id="Paxos.asig_simps(5)|thm"><span class="entity_def" id="Paxos.asig_simps(4)|thm"><span class="entity_def" id="Paxos.asig_simps(3)|thm"><span class="entity_def" id="Paxos.asig_simps(2)|thm"><span class="entity_def" id="Paxos.asig_simps(1)|thm"><span class="entity_def" id="Paxos.par_def|thm"><span class="entity_def" id="Paxos.par2_def|thm"><span class="entity_def" id="Paxos.asig_comp_def|thm"><span class="entity_def" id="Paxos.asig_comp2_def|thm"><span class="entity_def" id="Paxos.compatible_def|thm"><span class="entity_def" id="Paxos.compatible2_def|thm"><span class="entity_def" id="Paxos.is_ioa_fam_def|thm"><span class="entity_def" id="Paxos.reachable.intros(2)|thm"><span class="entity_def" id="Paxos.reachable.intros(1)|thm"><span class="entity_def" id="Paxos.rename_def|thm"><span class="entity_def" id="Paxos.rename_set_def|thm"><span class="entity_def" id="Paxos.hide_def|thm"><span class="entity_def" id="Paxos.is_ioa_def|thm"><span class="entity_def" id="Paxos.hide_asig_def|thm"><span class="entity_def" id="Paxos.internal_inter_external|thm"><span class="entity_def" id="Paxos.is_asig_def|thm"><span class="entity_def" id="Paxos.locals_def|thm"><span class="entity_def" id="Paxos.actions_def|thm"><span class="entity_def" id="Paxos.refines_def|thm"><span class="entity_def" id="Paxos.ref_map_soundness|thm"><span class="entity_def" id="Paxos.is_ref_map_def|thm"><span class="entity_def" id="Paxos.filter_act_def|thm"><span class="entity_def" id="Paxos.schedule_def|thm"><span class="entity_def" id="Paxos.trace_def|thm"><span class="entity_def" id="Paxos.is_trans_def|thm"><span class="entity_def" id="Paxos.externals_def|thm"><span class="entity_def" id="Paxos.invariantI|thm"><span class="entity_def" id="Paxos.invariant_def|thm"><span class="entity_def" id="Paxos.trace_match_def|thm"><span class="entity_def" id="Paxos.is_exec_frag_of.elims(3)|thm"><span class="entity_def" id="Paxos.is_exec_frag_of.elims(2)|thm"><span class="entity_def" id="Paxos.is_exec_frag_of.elims(1)|thm"><span class="entity_def" id="Paxos.is_exec_frag_of.induct|thm"><span class="entity_def" id="Paxos.is_exec_frag_of.pelims(3)|thm"><span class="entity_def" id="Paxos.is_exec_frag_of.pelims(2)|thm"><span class="entity_def" id="Paxos.is_exec_frag_of.pelims(1)|thm"><span class="entity_def" id="Paxos.is_exec_frag_of.cases|thm"><span class="entity_def" id="Paxos.is_exec_frag_of.pinduct|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_rel.inducts|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_rel.simps|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_rel.induct|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_rel.cases|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_graph.inducts|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_graph.simps|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_graph.induct|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_graph.cases|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_ind.inducts|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_ind.simps|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_ind.induct|thm"><span class="entity_def" id="Paxos.is_exec_frag_of_ind.cases|thm"><span class="entity_def" id="Paxos.last_state.elims|thm"><span class="entity_def" id="Paxos.last_state.induct|thm"><span class="entity_def" id="Paxos.last_state.pelims|thm"><span class="entity_def" id="Paxos.last_state.cases|thm"><span class="entity_def" id="Paxos.last_state.pinduct|thm"><span class="entity_def" id="Paxos.last_state_rel.inducts|thm"><span class="entity_def" id="Paxos.last_state_rel.simps|thm"><span class="entity_def" id="Paxos.last_state_rel.induct|thm"><span class="entity_def" id="Paxos.last_state_rel.cases|thm"><span class="entity_def" id="Paxos.last_state_graph.inducts|thm"><span class="entity_def" id="Paxos.last_state_graph.simps|thm"><span class="entity_def" id="Paxos.last_state_graph.induct|thm"><span class="entity_def" id="Paxos.last_state_graph.cases|thm"><span class="entity_def" id="Paxos.reachable.inducts|thm"><span class="entity_def" id="Paxos.reachable.simps|thm"><span class="entity_def" id="Paxos.reachable.induct|thm"><span class="entity_def" id="Paxos.reachable.cases|thm"><span class="entity_def" id="Paxos.reachable.reachable_n|thm"><span class="entity_def" id="Paxos.reachable.reachable_0|thm"><span>interpretation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA|locale"><span>IOA</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.arity_full_exhaustive_paxos_action|fact"><span class="entity_def" id="Paxos.paxos_action.full_exhaustive_paxos_action.simps|fact"><span class="entity_def" id="Paxos.full_exhaustive_paxos_action_inst.full_exhaustive_paxos_action|fact"><span class="entity_def" id="Paxos.arity_narrowing_paxos_action|fact"><span class="entity_def" id="Paxos.paxos_action.narrowing_paxos_action.simps|fact"><span class="entity_def" id="Paxos.narrowing_paxos_action_inst.narrowing_paxos_action|fact"><span class="entity_def" id="Paxos.arity_random_paxos_action|fact"><span class="entity_def" id="Paxos.random_paxos_action_def|fact"><span class="entity_def" id="Paxos.random_paxos_action_inst.random_paxos_action|fact"><span class="entity_def" id="Paxos.paxos_action.random_aux.simps|fact"><span class="entity_def" id="Paxos.random_aux_paxos_action_def|fact"><span class="entity_def" id="Paxos.paxos_action.size_neq|fact"><span class="entity_def" id="Paxos.paxos_action.size_gen_o_map|fact"><span class="entity_def" id="Paxos.paxos_action.size_gen|fact"><span class="entity_def" id="Paxos.paxos_action.size|fact"><span class="entity_def" id="Paxos.arity_size_paxos_action|fact"><span class="entity_def" id="Paxos.paxos_action.size_paxos_action_overloaded_def|fact"><span class="entity_def" id="Paxos.size_paxos_action_inst.size_paxos_action|fact"><span class="entity_def" id="Paxos.paxos_action.size_paxos_action_def|fact"><span class="entity_def" id="Paxos.paxos_action.Quotient|fact"><span class="entity_def" id="Paxos.paxos_action.Domainp_rel|fact"><span class="entity_def" id="Paxos.paxos_action.right_unique_rel|fact"><span class="entity_def" id="Paxos.paxos_action.left_unique_rel|fact"><span class="entity_def" id="Paxos.paxos_action.right_total_rel|fact"><span class="entity_def" id="Paxos.paxos_action.left_total_rel|fact"><span class="entity_def" id="Paxos.paxos_action.bi_unique_rel|fact"><span class="entity_def" id="Paxos.paxos_action.bi_total_rel|fact"><span class="entity_def" id="Paxos.paxos_action.simps|fact"><span class="entity_def" id="Paxos.paxos_action.rel_induct|fact"><span class="entity_def" id="Paxos.paxos_action.rec_transfer|fact"><span class="entity_def" id="Paxos.paxos_action.rec_o_map|fact"><span class="entity_def" id="Paxos.paxos_action.rec|fact"><span class="entity_def" id="Paxos.paxos_action.induct|fact"><span class="entity_def" id="Paxos.paxos_action.set_intros|fact"><span class="entity_def" id="Paxos.paxos_action.set_cases|fact"><span class="entity_def" id="Paxos.paxos_action.set|fact"><span class="entity_def" id="Paxos.paxos_action.rel_intros|fact"><span class="entity_def" id="Paxos.paxos_action.rel_inject|fact"><span class="entity_def" id="Paxos.paxos_action.rel_distinct|fact"><span class="entity_def" id="Paxos.paxos_action.rel_cases|fact"><span class="entity_def" id="Paxos.paxos_action.pred_inject|fact"><span class="entity_def" id="Paxos.paxos_action.map|fact"><span class="entity_def" id="Paxos.paxos_action.ctr_transfer|fact"><span class="entity_def" id="Paxos.paxos_action.case_transfer|fact"><span class="entity_def" id="Paxos.paxos_action.splits|fact"><span class="entity_def" id="Paxos.paxos_action.split_asm|fact"><span class="entity_def" id="Paxos.paxos_action.split|fact"><span class="entity_def" id="Paxos.paxos_action.nchotomy|fact"><span class="entity_def" id="Paxos.paxos_action.inject|fact"><span class="entity_def" id="Paxos.paxos_action.exhaust|fact"><span class="entity_def" id="Paxos.paxos_action.distinct|fact"><span class="entity_def" id="Paxos.paxos_action.case_distrib|fact"><span class="entity_def" id="Paxos.paxos_action.case_cong_weak|fact"><span class="entity_def" id="Paxos.paxos_action.case_cong|fact"><span class="entity_def" id="Paxos.paxos_action.case|fact"><span class="entity_def" id="Paxos.paxos_action.eq.simps|fact"><span class="entity_def" id="Paxos.paxos_action.eq.refl|fact"><span class="entity_def" id="Paxos.arity_equal_paxos_action|fact"><span class="entity_def" id="Paxos.equal_paxos_action_def|fact"><span class="entity_def" id="Paxos.equal_paxos_action_inst.equal_paxos_action|fact"><span class="entity_def" id="Paxos.arity_partial_term_of_paxos_action|fact"><span class="entity_def" id="Paxos.partial_term_of_paxos_action_triv|fact"><span class="entity_def" id="Paxos.partial_term_of_paxos_action_inst.partial_term_of_paxos_action|fact"><span class="entity_def" id="Paxos.arity_term_of_paxos_action|fact"><span class="entity_def" id="Paxos.term_of_paxos_action_triv|fact"><span class="entity_def" id="Paxos.term_of_paxos_action_inst.term_of_paxos_action|fact"><span class="entity_def" id="Paxos.paxos_action.case_paxos_action_def|fact"><span class="entity_def" id="Paxos.paxos_action.ctor_rec_paxos_action_def|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.set_transfer|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.set_map|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_transfer|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_transp|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_symp|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_reflp|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_refl_strong|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_refl|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_cong_simp|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_cong|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_mono_strong|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_mono|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_map|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_Grp|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_flip|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_eq_onp|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_eq|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_conversep|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_compp_Grp|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_compp|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_set|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_True|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_transfer|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_rel|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_map|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_cong_simp|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_cong|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_mono_strong|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_mono|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_ident_strong|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_ident|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_transfer|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_id0|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_id|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_cong_pred|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_cong_simp|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_cong|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_cong0|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_comp|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.inj_map_strong|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.inj_map|fact"><span class="entity_def" id="Paxos.Paxos.paxos_action.in_rel|fact"><span class="entity_def" id="Paxos.paxos_action.wit_paxos_action_def|fact"><span class="entity_def" id="Paxos.paxos_action.pred_paxos_action_def|fact"><span class="entity_def" id="Paxos.paxos_action.rel_paxos_action_def|fact"><span class="entity_def" id="Paxos.paxos_action.set_paxos_action_def|fact"><span class="entity_def" id="Paxos.paxos_action.map_paxos_action_def|fact"><span class="entity_def" id="Paxos.paxos_action.dtor_paxos_action_def|fact"><span class="entity_def" id="Paxos.paxos_action.ctor_fold_paxos_action_def|fact"><span class="entity_def" id="Paxos.paxos_action.ctor_paxos_action_def|fact"><span class="entity_def" id="Paxos.arity_typerep_paxos_action|fact"><span class="entity_def" id="Paxos.typerep_paxos_action_def|fact"><span class="entity_def" id="Paxos.typerep_paxos_action_inst.typerep_paxos_action|fact"><span class="entity_def" id="Paxos.paxos_action.Abs_paxos_action_induct|fact"><span class="entity_def" id="Paxos.paxos_action.Rep_paxos_action_induct|fact"><span class="entity_def" id="Paxos.paxos_action.Abs_paxos_action_cases|fact"><span class="entity_def" id="Paxos.paxos_action.Rep_paxos_action_cases|fact"><span class="entity_def" id="Paxos.paxos_action.Abs_paxos_action_inject|fact"><span class="entity_def" id="Paxos.paxos_action.Rep_paxos_action_inject|fact"><span class="entity_def" id="Paxos.paxos_action.Abs_paxos_action_inverse|fact"><span class="entity_def" id="Paxos.paxos_action.Rep_paxos_action_inverse|fact"><span class="entity_def" id="Paxos.paxos_action.Rep_paxos_action|fact"><span class="entity_def" id="Paxos.paxos_action.type_definition_paxos_action|fact"><span class="entity_def" id="Paxos.arity_type_paxos_action|fact"><span class="entity_def" id="Paxos.paxos_action.str_init_paxos_action_def|fact"><span class="entity_def" id="Paxos.paxos_action.arity_typerep_paxos_action_IITN_paxos_action|fact"><span class="entity_def" id="Paxos.paxos_action.typerep_paxos_action_IITN_paxos_action_def|fact"><span class="entity_def" id="Paxos.paxos_action.typerep_paxos_action_IITN_paxos_action_inst.typerep_paxos_action_IITN_paxos_action|fact"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Abs_paxos_action_IITN_paxos_action_induct|fact"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Rep_paxos_action_IITN_paxos_action_induct|fact"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Abs_paxos_action_IITN_paxos_action_cases|fact"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Rep_paxos_action_IITN_paxos_action_cases|fact"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Abs_paxos_action_IITN_paxos_action_inject|fact"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Rep_paxos_action_IITN_paxos_action_inject|fact"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Abs_paxos_action_IITN_paxos_action_inverse|fact"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Rep_paxos_action_IITN_paxos_action_inverse|fact"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Rep_paxos_action_IITN_paxos_action|fact"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.type_definition_paxos_action_IITN_paxos_action|fact"><span class="entity_def" id="Paxos.arity_type_paxos_action_IITN_paxos_action|fact"><span class="entity_def" id="Paxos.paxos_action.min_alg_paxos_action_def|fact"><span class="entity_def" id="Paxos.paxos_action.mor_paxos_action_def|fact"><span class="entity_def" id="Paxos.paxos_action.alg_paxos_action_def|fact"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.set2_pre_paxos_action_def|fact"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.set1_pre_paxos_action_def|fact"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.rel_pre_paxos_action_def|fact"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.map_pre_paxos_action_def|fact"><span class="entity_def" id="Paxos.arity_full_exhaustive_paxos_action|thm"><span class="entity_def" id="Paxos.paxos_action.full_exhaustive_paxos_action.simps|thm"><span class="entity_def" id="Paxos.full_exhaustive_paxos_action_inst.full_exhaustive_paxos_action|thm"><span class="entity_def" id="Paxos.arity_narrowing_paxos_action|thm"><span class="entity_def" id="Paxos.paxos_action.narrowing_paxos_action.simps|thm"><span class="entity_def" id="Paxos.narrowing_paxos_action_inst.narrowing_paxos_action|thm"><span class="entity_def" id="Paxos.arity_random_paxos_action|thm"><span class="entity_def" id="Paxos.random_paxos_action_def|thm"><span class="entity_def" id="Paxos.random_paxos_action_inst.random_paxos_action|thm"><span class="entity_def" id="Paxos.paxos_action.random_aux.simps|thm"><span class="entity_def" id="Paxos.random_aux_paxos_action_def|thm"><span class="entity_def" id="Paxos.paxos_action.size_neq|thm"><span class="entity_def" id="Paxos.paxos_action.size_gen_o_map|thm"><span class="entity_def" id="Paxos.paxos_action.size_gen(2)|thm"><span class="entity_def" id="Paxos.paxos_action.size_gen(1)|thm"><span class="entity_def" id="Paxos.paxos_action.size(4)|thm"><span class="entity_def" id="Paxos.paxos_action.size(3)|thm"><span class="entity_def" id="Paxos.paxos_action.size(2)|thm"><span class="entity_def" id="Paxos.paxos_action.size(1)|thm"><span class="entity_def" id="Paxos.arity_size_paxos_action|thm"><span class="entity_def" id="Paxos.paxos_action.size_paxos_action_overloaded_def|thm"><span class="entity_def" id="Paxos.size_paxos_action_inst.size_paxos_action|thm"><span class="entity_def" id="Paxos.paxos_action.size_paxos_action_def|thm"><span class="entity_def" id="Paxos.paxos_action.Quotient|thm"><span class="entity_def" id="Paxos.paxos_action.Domainp_rel|thm"><span class="entity_def" id="Paxos.paxos_action.right_unique_rel|thm"><span class="entity_def" id="Paxos.paxos_action.left_unique_rel|thm"><span class="entity_def" id="Paxos.paxos_action.right_total_rel|thm"><span class="entity_def" id="Paxos.paxos_action.left_total_rel|thm"><span class="entity_def" id="Paxos.paxos_action.bi_unique_rel|thm"><span class="entity_def" id="Paxos.paxos_action.bi_total_rel|thm"><span class="entity_def" id="Paxos.paxos_action.simps(15)|thm"><span class="entity_def" id="Paxos.paxos_action.simps(14)|thm"><span class="entity_def" id="Paxos.paxos_action.simps(13)|thm"><span class="entity_def" id="Paxos.paxos_action.simps(12)|thm"><span class="entity_def" id="Paxos.paxos_action.simps(11)|thm"><span class="entity_def" id="Paxos.paxos_action.simps(10)|thm"><span class="entity_def" id="Paxos.paxos_action.simps(9)|thm"><span class="entity_def" id="Paxos.paxos_action.simps(8)|thm"><span class="entity_def" id="Paxos.paxos_action.simps(7)|thm"><span class="entity_def" id="Paxos.paxos_action.simps(6)|thm"><span class="entity_def" id="Paxos.paxos_action.simps(5)|thm"><span class="entity_def" id="Paxos.paxos_action.simps(4)|thm"><span class="entity_def" id="Paxos.paxos_action.simps(3)|thm"><span class="entity_def" id="Paxos.paxos_action.simps(2)|thm"><span class="entity_def" id="Paxos.paxos_action.simps(1)|thm"><span class="entity_def" id="Paxos.paxos_action.rel_induct|thm"><span class="entity_def" id="Paxos.paxos_action.rec_transfer|thm"><span class="entity_def" id="Paxos.paxos_action.rec_o_map|thm"><span class="entity_def" id="Paxos.paxos_action.rec(2)|thm"><span class="entity_def" id="Paxos.paxos_action.rec(1)|thm"><span class="entity_def" id="Paxos.paxos_action.induct|thm"><span class="entity_def" id="Paxos.paxos_action.set_intros|thm"><span class="entity_def" id="Paxos.paxos_action.set_cases|thm"><span class="entity_def" id="Paxos.paxos_action.set(2)|thm"><span class="entity_def" id="Paxos.paxos_action.set(1)|thm"><span class="entity_def" id="Paxos.paxos_action.rel_intros(2)|thm"><span class="entity_def" id="Paxos.paxos_action.rel_intros(1)|thm"><span class="entity_def" id="Paxos.paxos_action.rel_inject(2)|thm"><span class="entity_def" id="Paxos.paxos_action.rel_inject(1)|thm"><span class="entity_def" id="Paxos.paxos_action.rel_distinct(2)|thm"><span class="entity_def" id="Paxos.paxos_action.rel_distinct(1)|thm"><span class="entity_def" id="Paxos.paxos_action.rel_cases|thm"><span class="entity_def" id="Paxos.paxos_action.pred_inject(2)|thm"><span class="entity_def" id="Paxos.paxos_action.pred_inject(1)|thm"><span class="entity_def" id="Paxos.paxos_action.map(2)|thm"><span class="entity_def" id="Paxos.paxos_action.map(1)|thm"><span class="entity_def" id="Paxos.paxos_action.ctr_transfer(2)|thm"><span class="entity_def" id="Paxos.paxos_action.ctr_transfer(1)|thm"><span class="entity_def" id="Paxos.paxos_action.case_transfer|thm"><span class="entity_def" id="Paxos.paxos_action.splits(2)|thm"><span class="entity_def" id="Paxos.paxos_action.splits(1)|thm"><span class="entity_def" id="Paxos.paxos_action.split_asm|thm"><span class="entity_def" id="Paxos.paxos_action.split|thm"><span class="entity_def" id="Paxos.paxos_action.nchotomy|thm"><span class="entity_def" id="Paxos.paxos_action.inject|thm"><span class="entity_def" id="Paxos.paxos_action.exhaust|thm"><span class="entity_def" id="Paxos.paxos_action.distinct(2)|thm"><span class="entity_def" id="Paxos.paxos_action.distinct(1)|thm"><span class="entity_def" id="Paxos.paxos_action.case_distrib|thm"><span class="entity_def" id="Paxos.paxos_action.case_cong_weak|thm"><span class="entity_def" id="Paxos.paxos_action.case_cong|thm"><span class="entity_def" id="Paxos.paxos_action.case(2)|thm"><span class="entity_def" id="Paxos.paxos_action.case(1)|thm"><span class="entity_def" id="Paxos.paxos_action.eq.simps(6)|thm"><span class="entity_def" id="Paxos.paxos_action.eq.simps(5)|thm"><span class="entity_def" id="Paxos.paxos_action.eq.simps(4)|thm"><span class="entity_def" id="Paxos.paxos_action.eq.simps(3)|thm"><span class="entity_def" id="Paxos.paxos_action.eq.simps(2)|thm"><span class="entity_def" id="Paxos.paxos_action.eq.simps(1)|thm"><span class="entity_def" id="Paxos.paxos_action.eq.refl|thm"><span class="entity_def" id="Paxos.arity_equal_paxos_action|thm"><span class="entity_def" id="Paxos.equal_paxos_action_def|thm"><span class="entity_def" id="Paxos.equal_paxos_action_inst.equal_paxos_action|thm"><span class="entity_def" id="Paxos.arity_partial_term_of_paxos_action|thm"><span class="entity_def" id="Paxos.partial_term_of_paxos_action_triv|thm"><span class="entity_def" id="Paxos.partial_term_of_paxos_action_inst.partial_term_of_paxos_action|thm"><span class="entity_def" id="Paxos.arity_term_of_paxos_action|thm"><span class="entity_def" id="Paxos.term_of_paxos_action_triv|thm"><span class="entity_def" id="Paxos.term_of_paxos_action_inst.term_of_paxos_action|thm"><span class="entity_def" id="Paxos.paxos_action.case_paxos_action_def|thm"><span class="entity_def" id="Paxos.paxos_action.ctor_rec_paxos_action_def|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.set_transfer|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.set_map|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_transfer|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_transp|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_symp|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_reflp|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_refl_strong|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_refl|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_cong_simp|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_cong|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_mono_strong|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_mono|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_map(2)|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_map(1)|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_Grp|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_flip|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_eq_onp|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_eq|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_conversep|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_compp_Grp|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.rel_compp|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_set|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_True|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_transfer|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_rel|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_map|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_cong_simp|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_cong|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_mono_strong|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.pred_mono|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_ident_strong|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_ident|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_transfer|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_id0|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_id|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_cong_pred|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_cong_simp|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_cong|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_cong0|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.map_comp|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.inj_map_strong|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.inj_map|thm"><span class="entity_def" id="Paxos.Paxos.paxos_action.in_rel|thm"><span class="entity_def" id="Paxos.paxos_action.wit_paxos_action_def|thm"><span class="entity_def" id="Paxos.paxos_action.pred_paxos_action_def|thm"><span class="entity_def" id="Paxos.paxos_action.rel_paxos_action_def|thm"><span class="entity_def" id="Paxos.paxos_action.set_paxos_action_def|thm"><span class="entity_def" id="Paxos.paxos_action.map_paxos_action_def|thm"><span class="entity_def" id="Paxos.paxos_action.dtor_paxos_action_def|thm"><span class="entity_def" id="Paxos.paxos_action.ctor_fold_paxos_action_def|thm"><span class="entity_def" id="Paxos.paxos_action.ctor_paxos_action_def|thm"><span class="entity_def" id="Paxos.arity_typerep_paxos_action|thm"><span class="entity_def" id="Paxos.typerep_paxos_action_def|thm"><span class="entity_def" id="Paxos.typerep_paxos_action_inst.typerep_paxos_action|thm"><span class="entity_def" id="Paxos.paxos_action.Abs_paxos_action_induct|thm"><span class="entity_def" id="Paxos.paxos_action.Rep_paxos_action_induct|thm"><span class="entity_def" id="Paxos.paxos_action.Abs_paxos_action_cases|thm"><span class="entity_def" id="Paxos.paxos_action.Rep_paxos_action_cases|thm"><span class="entity_def" id="Paxos.paxos_action.Abs_paxos_action_inject|thm"><span class="entity_def" id="Paxos.paxos_action.Rep_paxos_action_inject|thm"><span class="entity_def" id="Paxos.paxos_action.Abs_paxos_action_inverse|thm"><span class="entity_def" id="Paxos.paxos_action.Rep_paxos_action_inverse|thm"><span class="entity_def" id="Paxos.paxos_action.Rep_paxos_action|thm"><span class="entity_def" id="Paxos.paxos_action.type_definition_paxos_action|thm"><span class="entity_def" id="Paxos.arity_type_paxos_action|thm"><span class="entity_def" id="Paxos.paxos_action.str_init_paxos_action_def|thm"><span class="entity_def" id="Paxos.paxos_action.arity_typerep_paxos_action_IITN_paxos_action|thm"><span class="entity_def" id="Paxos.paxos_action.typerep_paxos_action_IITN_paxos_action_def|thm"><span class="entity_def" id="Paxos.paxos_action.typerep_paxos_action_IITN_paxos_action_inst.typerep_paxos_action_IITN_paxos_action|thm"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Abs_paxos_action_IITN_paxos_action_induct|thm"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Rep_paxos_action_IITN_paxos_action_induct|thm"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Abs_paxos_action_IITN_paxos_action_cases|thm"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Rep_paxos_action_IITN_paxos_action_cases|thm"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Abs_paxos_action_IITN_paxos_action_inject|thm"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Rep_paxos_action_IITN_paxos_action_inject|thm"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Abs_paxos_action_IITN_paxos_action_inverse|thm"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Rep_paxos_action_IITN_paxos_action_inverse|thm"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Rep_paxos_action_IITN_paxos_action|thm"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.type_definition_paxos_action_IITN_paxos_action|thm"><span class="entity_def" id="Paxos.arity_type_paxos_action_IITN_paxos_action|thm"><span class="entity_def" id="Paxos.paxos_action.min_alg_paxos_action_def|thm"><span class="entity_def" id="Paxos.paxos_action.mor_paxos_action_def|thm"><span class="entity_def" id="Paxos.paxos_action.alg_paxos_action_def|thm"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.set2_pre_paxos_action_def|thm"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.set1_pre_paxos_action_def|thm"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.rel_pre_paxos_action_def|thm"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.map_pre_paxos_action_def|thm"><span class="entity_def" id="Paxos.full_exhaustive_paxos_action_def|axiom"><span class="entity_def" id="Paxos.full_exhaustive_paxos_action_inst.full_exhaustive_paxos_action_def|axiom"><span class="entity_def" id="Paxos.narrowing_paxos_action_def|axiom"><span class="entity_def" id="Paxos.narrowing_paxos_action_inst.narrowing_paxos_action_def|axiom"><span class="entity_def" id="Paxos.random_paxos_action_def_raw|axiom"><span class="entity_def" id="Paxos.random_paxos_action_inst.random_paxos_action_def|axiom"><span class="entity_def" id="Paxos.random_aux_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.size_paxos_action_overloaded_def|axiom"><span class="entity_def" id="Paxos.size_paxos_action_inst.size_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.size_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.rec_paxos_action_def|axiom"><span class="entity_def" id="Paxos.equal_paxos_action_def_raw|axiom"><span class="entity_def" id="Paxos.equal_paxos_action_inst.equal_paxos_action_def|axiom"><span class="entity_def" id="Paxos.partial_term_of_paxos_action_triv_raw|axiom"><span class="entity_def" id="Paxos.partial_term_of_paxos_action_inst.partial_term_of_paxos_action_def|axiom"><span class="entity_def" id="Paxos.term_of_paxos_action_triv_raw|axiom"><span class="entity_def" id="Paxos.term_of_paxos_action_inst.term_of_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.case_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.Decision_def|axiom"><span class="entity_def" id="Paxos.paxos_action.Internal_def|axiom"><span class="entity_def" id="Paxos.paxos_action.ctor_rec_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.wit_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.pred_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.rel_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.set_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.map_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.dtor_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.ctor_fold_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.ctor_paxos_action_def|axiom"><span class="entity_def" id="Paxos.typerep_paxos_action_def_raw|axiom"><span class="entity_def" id="Paxos.typerep_paxos_action_inst.typerep_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.type_definition_paxos_action|axiom"><span class="entity_def" id="Paxos.arity_type_paxos_action|axiom"><span class="entity_def" id="Paxos.paxos_action.str_init_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.typerep_paxos_action_IITN_paxos_action_def_raw|axiom"><span class="entity_def" id="Paxos.paxos_action.typerep_paxos_action_IITN_paxos_action_inst.typerep_paxos_action_IITN_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.type_definition_paxos_action_IITN_paxos_action|axiom"><span class="entity_def" id="Paxos.arity_type_paxos_action_IITN_paxos_action|axiom"><span class="entity_def" id="Paxos.paxos_action.min_alg_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.mor_paxos_action_def|axiom"><span class="entity_def" id="Paxos.paxos_action.alg_paxos_action_def|axiom"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.wit_pre_paxos_action_def|axiom"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.pred_pre_paxos_action_def|axiom"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.rel_pre_paxos_action_def|axiom"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.set2_pre_paxos_action_def|axiom"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.set1_pre_paxos_action_def|axiom"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.map_pre_paxos_action_def|axiom"><span class="entity_def" id="Paxos.full_exhaustive_paxos_action_inst.full_exhaustive_paxos_action|const"><span class="entity_def" id="Paxos.narrowing_paxos_action_inst.narrowing_paxos_action|const"><span class="entity_def" id="Paxos.random_paxos_action_inst.random_paxos_action|const"><span class="entity_def" id="Paxos.random_aux_paxos_action|const"><span class="entity_def" id="Paxos.size_paxos_action_inst.size_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.size_paxos_action|const"><span class="entity_def" id="Paxos.equal_paxos_action_inst.equal_paxos_action|const"><span class="entity_def" id="Paxos.partial_term_of_paxos_action_inst.partial_term_of_paxos_action|const"><span class="entity_def" id="Paxos.term_of_paxos_action_inst.term_of_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.case_paxos_action|const"><span class="entity_def" id="Paxos.typerep_paxos_action_inst.typerep_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.Abs_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.Rep_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.typerep_paxos_action_IITN_paxos_action_inst.typerep_paxos_action_IITN_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Abs_paxos_action_IITN_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action.Rep_paxos_action_IITN_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.mor_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.alg_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.paxos_action_IITN_paxos_action|type"><span>datatype</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="entity_def" id="Paxos.paxos_action.rec_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.ctor_rec_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.wit_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.pred_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.rel_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.set_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.map_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.dtor_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.ctor_fold_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.ctor_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.str_init_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action.min_alg_paxos_action|const"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.wit_pre_paxos_action|const"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.pred_pre_paxos_action|const"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.rel_pre_paxos_action|const"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.set2_pre_paxos_action|const"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.set1_pre_paxos_action|const"><span class="entity_def" id="Paxos.pre_paxos_action.paxos_action.map_pre_paxos_action|const"><span class="entity_def" id="Paxos.paxos_action|type"><span>paxos_action</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="entity_def" id="Paxos.paxos_action.Internal|const"><span>Internal</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Paxos.paxos_action.Decision|const"><span>Decision</span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'v</span></span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.paxos_asig_def|fact"><span class="entity_def" id="Paxos.paxos_asig_def|thm"><span class="entity_def" id="Paxos.paxos_asig_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_asig|const"><span>paxos_asig</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>paxos_asig</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>⦇</span></span><span> inputs </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>,</span></span><span> outputs </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Decision|const"><span>Decision</span></a><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>}</span></span><span class="main"><span>,</span></span><span> internals </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Internal|const"><span>Internal</span></a><span class="main"><span>}</span></span><span> </span><span class="main"><span>⦈</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.state.arity_full_exhaustive_state_ext|fact"><span class="entity_def" id="Paxos.state.full_exhaustive_state_ext_def|fact"><span class="entity_def" id="Paxos.state.full_exhaustive_state_ext_inst.full_exhaustive_state_ext|fact"><span class="entity_def" id="Paxos.state.arity_random_state_ext|fact"><span class="entity_def" id="Paxos.state.random_state_ext_def|fact"><span class="entity_def" id="Paxos.state.random_state_ext_inst.random_state_ext|fact"><span class="entity_def" id="Paxos.state.arity_equal_state_ext|fact"><span class="entity_def" id="Paxos.state.equal_state_ext_def|fact"><span class="entity_def" id="Paxos.state.equal_state_ext_inst.equal_state_ext|fact"><span class="entity_def" id="Paxos.state.arity_partial_term_of_state_ext|fact"><span class="entity_def" id="Paxos.state.partial_term_of_state_ext_triv|fact"><span class="entity_def" id="Paxos.state.partial_term_of_state_ext_inst.partial_term_of_state_ext|fact"><span class="entity_def" id="Paxos.state.arity_term_of_state_ext|fact"><span class="entity_def" id="Paxos.state.term_of_state_ext_triv|fact"><span class="entity_def" id="Paxos.state.term_of_state_ext_inst.term_of_state_ext|fact"><span class="entity_def" id="Paxos.state.iffs|fact"><span class="entity_def" id="Paxos.state.simps|fact"><span class="entity_def" id="Paxos.state.cases|fact"><span class="entity_def" id="Paxos.state.cases_scheme|fact"><span class="entity_def" id="Paxos.state.induct|fact"><span class="entity_def" id="Paxos.state.induct_scheme|fact"><span class="entity_def" id="Paxos.state.equality|fact"><span class="entity_def" id="Paxos.state.surjective|fact"><span class="entity_def" id="Paxos.state.defs|fact"><span class="entity_def" id="Paxos.state.splits|fact"><span class="entity_def" id="Paxos.state.unfold_congs|fact"><span class="entity_def" id="Paxos.state.fold_congs|fact"><span class="entity_def" id="Paxos.state.update_defs|fact"><span class="entity_def" id="Paxos.state.select_defs|fact"><span class="entity_def" id="Paxos.state.update_convs|fact"><span class="entity_def" id="Paxos.state.select_convs|fact"><span class="entity_def" id="Paxos.state.truncate_def|fact"><span class="entity_def" id="Paxos.state.extend_def|fact"><span class="entity_def" id="Paxos.state.fields_def|fact"><span class="entity_def" id="Paxos.state.make_def|fact"><span class="entity_def" id="Paxos.state.more_update_def|fact"><span class="entity_def" id="Paxos.state.decision_update_def|fact"><span class="entity_def" id="Paxos.state.vote_msg_update_def|fact"><span class="entity_def" id="Paxos.state.propose_msg_update_def|fact"><span class="entity_def" id="Paxos.state.join_ack_msg_update_def|fact"><span class="entity_def" id="Paxos.state.start_round_msg_update_def|fact"><span class="entity_def" id="Paxos.state.more_def|fact"><span class="entity_def" id="Paxos.state.decision_def|fact"><span class="entity_def" id="Paxos.state.vote_msg_def|fact"><span class="entity_def" id="Paxos.state.propose_msg_def|fact"><span class="entity_def" id="Paxos.state.join_ack_msg_def|fact"><span class="entity_def" id="Paxos.state.start_round_msg_def|fact"><span class="entity_def" id="Paxos.state.ext_split|fact"><span class="entity_def" id="Paxos.state.ext_surjective|fact"><span class="entity_def" id="Paxos.state.ext_inject|fact"><span class="entity_def" id="Paxos.state.ext_induct|fact"><span class="entity_def" id="Paxos.state.state_ext_def|fact"><span class="entity_def" id="Paxos.state.state_ext.state_ext_Tuple_Iso_def|fact"><span class="entity_def" id="Paxos.state.arity_typerep_state_ext|fact"><span class="entity_def" id="Paxos.state.typerep_state_ext_def|fact"><span class="entity_def" id="Paxos.state.typerep_state_ext_inst.typerep_state_ext|fact"><span class="entity_def" id="Paxos.state.state_ext.Abs_state_ext_induct|fact"><span class="entity_def" id="Paxos.state.state_ext.Rep_state_ext_induct|fact"><span class="entity_def" id="Paxos.state.state_ext.Abs_state_ext_cases|fact"><span class="entity_def" id="Paxos.state.state_ext.Rep_state_ext_cases|fact"><span class="entity_def" id="Paxos.state.state_ext.Abs_state_ext_inject|fact"><span class="entity_def" id="Paxos.state.state_ext.Rep_state_ext_inject|fact"><span class="entity_def" id="Paxos.state.state_ext.Abs_state_ext_inverse|fact"><span class="entity_def" id="Paxos.state.state_ext.Rep_state_ext_inverse|fact"><span class="entity_def" id="Paxos.state.state_ext.Rep_state_ext|fact"><span class="entity_def" id="Paxos.state.state_ext.type_definition_state_ext|fact"><span class="entity_def" id="Paxos.state.arity_type_state_ext|fact"><span class="entity_def" id="Paxos.state.arity_full_exhaustive_state_ext|thm"><span class="entity_def" id="Paxos.state.full_exhaustive_state_ext_def|thm"><span class="entity_def" id="Paxos.state.full_exhaustive_state_ext_inst.full_exhaustive_state_ext|thm"><span class="entity_def" id="Paxos.state.arity_random_state_ext|thm"><span class="entity_def" id="Paxos.state.random_state_ext_def|thm"><span class="entity_def" id="Paxos.state.random_state_ext_inst.random_state_ext|thm"><span class="entity_def" id="Paxos.state.arity_equal_state_ext|thm"><span class="entity_def" id="Paxos.state.equal_state_ext_def|thm"><span class="entity_def" id="Paxos.state.equal_state_ext_inst.equal_state_ext|thm"><span class="entity_def" id="Paxos.state.arity_partial_term_of_state_ext|thm"><span class="entity_def" id="Paxos.state.partial_term_of_state_ext_triv|thm"><span class="entity_def" id="Paxos.state.partial_term_of_state_ext_inst.partial_term_of_state_ext|thm"><span class="entity_def" id="Paxos.state.arity_term_of_state_ext|thm"><span class="entity_def" id="Paxos.state.term_of_state_ext_triv|thm"><span class="entity_def" id="Paxos.state.term_of_state_ext_inst.term_of_state_ext|thm"><span class="entity_def" id="Paxos.state.iffs|thm"><span class="entity_def" id="Paxos.state.simps(12)|thm"><span class="entity_def" id="Paxos.state.simps(11)|thm"><span class="entity_def" id="Paxos.state.simps(10)|thm"><span class="entity_def" id="Paxos.state.simps(9)|thm"><span class="entity_def" id="Paxos.state.simps(8)|thm"><span class="entity_def" id="Paxos.state.simps(7)|thm"><span class="entity_def" id="Paxos.state.simps(6)|thm"><span class="entity_def" id="Paxos.state.simps(5)|thm"><span class="entity_def" id="Paxos.state.simps(4)|thm"><span class="entity_def" id="Paxos.state.simps(3)|thm"><span class="entity_def" id="Paxos.state.simps(2)|thm"><span class="entity_def" id="Paxos.state.simps(1)|thm"><span class="entity_def" id="Paxos.state.cases|thm"><span class="entity_def" id="Paxos.state.cases_scheme|thm"><span class="entity_def" id="Paxos.state.induct|thm"><span class="entity_def" id="Paxos.state.induct_scheme|thm"><span class="entity_def" id="Paxos.state.equality|thm"><span class="entity_def" id="Paxos.state.surjective|thm"><span class="entity_def" id="Paxos.state.defs(4)|thm"><span class="entity_def" id="Paxos.state.defs(3)|thm"><span class="entity_def" id="Paxos.state.defs(2)|thm"><span class="entity_def" id="Paxos.state.defs(1)|thm"><span class="entity_def" id="Paxos.state.splits(3)|thm"><span class="entity_def" id="Paxos.state.splits(2)|thm"><span class="entity_def" id="Paxos.state.splits(1)|thm"><span class="entity_def" id="Paxos.state.unfold_congs(6)|thm"><span class="entity_def" id="Paxos.state.unfold_congs(5)|thm"><span class="entity_def" id="Paxos.state.unfold_congs(4)|thm"><span class="entity_def" id="Paxos.state.unfold_congs(3)|thm"><span class="entity_def" id="Paxos.state.unfold_congs(2)|thm"><span class="entity_def" id="Paxos.state.unfold_congs(1)|thm"><span class="entity_def" id="Paxos.state.fold_congs(6)|thm"><span class="entity_def" id="Paxos.state.fold_congs(5)|thm"><span class="entity_def" id="Paxos.state.fold_congs(4)|thm"><span class="entity_def" id="Paxos.state.fold_congs(3)|thm"><span class="entity_def" id="Paxos.state.fold_congs(2)|thm"><span class="entity_def" id="Paxos.state.fold_congs(1)|thm"><span class="entity_def" id="Paxos.state.update_defs(6)|thm"><span class="entity_def" id="Paxos.state.update_defs(5)|thm"><span class="entity_def" id="Paxos.state.update_defs(4)|thm"><span class="entity_def" id="Paxos.state.update_defs(3)|thm"><span class="entity_def" id="Paxos.state.update_defs(2)|thm"><span class="entity_def" id="Paxos.state.update_defs(1)|thm"><span class="entity_def" id="Paxos.state.select_defs(6)|thm"><span class="entity_def" id="Paxos.state.select_defs(5)|thm"><span class="entity_def" id="Paxos.state.select_defs(4)|thm"><span class="entity_def" id="Paxos.state.select_defs(3)|thm"><span class="entity_def" id="Paxos.state.select_defs(2)|thm"><span class="entity_def" id="Paxos.state.select_defs(1)|thm"><span class="entity_def" id="Paxos.state.update_convs(6)|thm"><span class="entity_def" id="Paxos.state.update_convs(5)|thm"><span class="entity_def" id="Paxos.state.update_convs(4)|thm"><span class="entity_def" id="Paxos.state.update_convs(3)|thm"><span class="entity_def" id="Paxos.state.update_convs(2)|thm"><span class="entity_def" id="Paxos.state.update_convs(1)|thm"><span class="entity_def" id="Paxos.state.select_convs(6)|thm"><span class="entity_def" id="Paxos.state.select_convs(5)|thm"><span class="entity_def" id="Paxos.state.select_convs(4)|thm"><span class="entity_def" id="Paxos.state.select_convs(3)|thm"><span class="entity_def" id="Paxos.state.select_convs(2)|thm"><span class="entity_def" id="Paxos.state.select_convs(1)|thm"><span class="entity_def" id="Paxos.state.truncate_def|thm"><span class="entity_def" id="Paxos.state.extend_def|thm"><span class="entity_def" id="Paxos.state.fields_def|thm"><span class="entity_def" id="Paxos.state.make_def|thm"><span class="entity_def" id="Paxos.state.more_update_def|thm"><span class="entity_def" id="Paxos.state.decision_update_def|thm"><span class="entity_def" id="Paxos.state.vote_msg_update_def|thm"><span class="entity_def" id="Paxos.state.propose_msg_update_def|thm"><span class="entity_def" id="Paxos.state.join_ack_msg_update_def|thm"><span class="entity_def" id="Paxos.state.start_round_msg_update_def|thm"><span class="entity_def" id="Paxos.state.more_def|thm"><span class="entity_def" id="Paxos.state.decision_def|thm"><span class="entity_def" id="Paxos.state.vote_msg_def|thm"><span class="entity_def" id="Paxos.state.propose_msg_def|thm"><span class="entity_def" id="Paxos.state.join_ack_msg_def|thm"><span class="entity_def" id="Paxos.state.start_round_msg_def|thm"><span class="entity_def" id="Paxos.state.ext_split|thm"><span class="entity_def" id="Paxos.state.ext_surjective|thm"><span class="entity_def" id="Paxos.state.ext_inject|thm"><span class="entity_def" id="Paxos.state.ext_induct|thm"><span class="entity_def" id="Paxos.state.state_ext_def|thm"><span class="entity_def" id="Paxos.state.state_ext.state_ext_Tuple_Iso_def|thm"><span class="entity_def" id="Paxos.state.arity_typerep_state_ext|thm"><span class="entity_def" id="Paxos.state.typerep_state_ext_def|thm"><span class="entity_def" id="Paxos.state.typerep_state_ext_inst.typerep_state_ext|thm"><span class="entity_def" id="Paxos.state.state_ext.Abs_state_ext_induct|thm"><span class="entity_def" id="Paxos.state.state_ext.Rep_state_ext_induct|thm"><span class="entity_def" id="Paxos.state.state_ext.Abs_state_ext_cases|thm"><span class="entity_def" id="Paxos.state.state_ext.Rep_state_ext_cases|thm"><span class="entity_def" id="Paxos.state.state_ext.Abs_state_ext_inject|thm"><span class="entity_def" id="Paxos.state.state_ext.Rep_state_ext_inject|thm"><span class="entity_def" id="Paxos.state.state_ext.Abs_state_ext_inverse|thm"><span class="entity_def" id="Paxos.state.state_ext.Rep_state_ext_inverse|thm"><span class="entity_def" id="Paxos.state.state_ext.Rep_state_ext|thm"><span class="entity_def" id="Paxos.state.state_ext.type_definition_state_ext|thm"><span class="entity_def" id="Paxos.state.arity_type_state_ext|thm"><span class="entity_def" id="Paxos.state.full_exhaustive_state_ext_def_raw|axiom"><span class="entity_def" id="Paxos.state.full_exhaustive_state_ext_inst.full_exhaustive_state_ext_def|axiom"><span class="entity_def" id="Paxos.state.random_state_ext_def_raw|axiom"><span class="entity_def" id="Paxos.state.random_state_ext_inst.random_state_ext_def|axiom"><span class="entity_def" id="Paxos.state.equal_state_ext_def_raw|axiom"><span class="entity_def" id="Paxos.state.equal_state_ext_inst.equal_state_ext_def|axiom"><span class="entity_def" id="Paxos.state.partial_term_of_state_ext_triv_raw|axiom"><span class="entity_def" id="Paxos.state.partial_term_of_state_ext_inst.partial_term_of_state_ext_def|axiom"><span class="entity_def" id="Paxos.state.term_of_state_ext_triv_raw|axiom"><span class="entity_def" id="Paxos.state.term_of_state_ext_inst.term_of_state_ext_def|axiom"><span class="entity_def" id="Paxos.state.truncate_def|axiom"><span class="entity_def" id="Paxos.state.extend_def|axiom"><span class="entity_def" id="Paxos.state.fields_def|axiom"><span class="entity_def" id="Paxos.state.make_def|axiom"><span class="entity_def" id="Paxos.state.more_update_def|axiom"><span class="entity_def" id="Paxos.state.decision_update_def|axiom"><span class="entity_def" id="Paxos.state.vote_msg_update_def|axiom"><span class="entity_def" id="Paxos.state.propose_msg_update_def|axiom"><span class="entity_def" id="Paxos.state.join_ack_msg_update_def|axiom"><span class="entity_def" id="Paxos.state.start_round_msg_update_def|axiom"><span class="entity_def" id="Paxos.state.more_def|axiom"><span class="entity_def" id="Paxos.state.decision_def|axiom"><span class="entity_def" id="Paxos.state.vote_msg_def|axiom"><span class="entity_def" id="Paxos.state.propose_msg_def|axiom"><span class="entity_def" id="Paxos.state.join_ack_msg_def|axiom"><span class="entity_def" id="Paxos.state.start_round_msg_def|axiom"><span class="entity_def" id="Paxos.state.state_ext_def|axiom"><span class="entity_def" id="Paxos.state.state_ext.state_ext_Tuple_Iso_def|axiom"><span class="entity_def" id="Paxos.state.typerep_state_ext_def_raw|axiom"><span class="entity_def" id="Paxos.state.typerep_state_ext_inst.typerep_state_ext_def|axiom"><span class="entity_def" id="Paxos.state.state_ext.type_definition_state_ext|axiom"><span class="entity_def" id="Paxos.state.arity_type_state_ext|axiom"><span class="entity_def" id="Paxos.state.full_exhaustive_state_ext_inst.full_exhaustive_state_ext|const"><span class="entity_def" id="Paxos.state.random_state_ext_inst.random_state_ext|const"><span class="entity_def" id="Paxos.state.equal_state_ext_inst.equal_state_ext|const"><span class="entity_def" id="Paxos.state.partial_term_of_state_ext_inst.partial_term_of_state_ext|const"><span class="entity_def" id="Paxos.state.term_of_state_ext_inst.term_of_state_ext|const"><span class="entity_def" id="Paxos.state.truncate|const"><span class="entity_def" id="Paxos.state.extend|const"><span class="entity_def" id="Paxos.state.fields|const"><span class="entity_def" id="Paxos.state.make|const"><span class="entity_def" id="Paxos.state.more_update|const"><span class="entity_def" id="Paxos.state.decision_update|const"><span class="entity_def" id="Paxos.state.vote_msg_update|const"><span class="entity_def" id="Paxos.state.propose_msg_update|const"><span class="entity_def" id="Paxos.state.join_ack_msg_update|const"><span class="entity_def" id="Paxos.state.start_round_msg_update|const"><span class="entity_def" id="Paxos.state.more|const"><span class="entity_def" id="Paxos.state.decision|const"><span class="entity_def" id="Paxos.state.vote_msg|const"><span class="entity_def" id="Paxos.state.propose_msg|const"><span class="entity_def" id="Paxos.state.join_ack_msg|const"><span class="entity_def" id="Paxos.state.start_round_msg|const"><span class="entity_def" id="Paxos.state.state_ext|const"><span class="entity_def" id="Paxos.state.state_ext.state_ext_Tuple_Iso|const"><span class="entity_def" id="Paxos.state.typerep_state_ext_inst.typerep_state_ext|const"><span class="entity_def" id="Paxos.state.state_ext.Abs_state_ext|const"><span class="entity_def" id="Paxos.state.state_ext.Rep_state_ext|const"><span class="entity_def" id="Paxos.state.state_ext|type"><span>record</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'n</span></span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="Paxos.state_scheme|type"><span class="entity_def" id="Paxos.state|type"><span>state</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  start_round_msg </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  join_ack_msg </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  propose_msg </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  vote_msg </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  decision </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>locale</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_ioa|locale"><span>paxos_ioa</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>quorums</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'n</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
    </span><span class="comment1"><span>― ‹ We will make assumptions on quorums only in the correctness proof. ›</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.paxos_ioa.start_def|fact"><span class="entity_def" id="Paxos.paxos_ioa.start_def|thm"><span class="entity_def" id="Paxos.paxos_ioa.start_def_raw|axiom"><span class="entity_def" id="offset_932..942">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_ioa.start|const"><span>start</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="comment1"><span>― ‹  The initial state  ›</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>start</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>⦇</span></span><span> start_round_msg </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>,</span></span><span> join_ack_msg </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>,</span></span><span> propose_msg </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>,</span></span><span>
    vote_msg </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>,</span></span><span> decision </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⦈</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.paxos_ioa.start_round_def|fact"><span class="entity_def" id="Paxos.paxos_ioa.start_round_def|thm"><span class="entity_def" id="Paxos.paxos_ioa.start_round_def_raw|axiom"><span class="entity_def" id="offset_1094..1104">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_ioa.start_round|const"><span>start_round</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>start_round</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
    </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>⦇</span></span><span>start_round_msg </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.start_round_msg|const"><span>start_round_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>}</span></span><span class="main"><span>⦈</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.paxos_ioa.join_round_def|fact"><span class="entity_def" id="Paxos.paxos_ioa.join_round_def|thm"><span class="entity_def" id="Paxos.paxos_ioa.join_round_def_raw|axiom"><span class="entity_def" id="offset_1212..1222">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_ioa.join_round|const"><span>join_round</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>join_round</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>maxr</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>maxv</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
    </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.start_round_msg|const"><span>start_round_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span class="bound"><span>r'</span></span></span><span> </span><span class="main"><span>≥</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>r''</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r''</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.join_ack_msg|const"><span>join_ack_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>maxr</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.vote_msg|const"><span>vote_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span>
        </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>maxr</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>maxr</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>maxr</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>maxv</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.vote_msg|const"><span>vote_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span>
        </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.vote_msg|const"><span>vote_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>maxr</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
    </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>⦇</span></span><span>join_ack_msg </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.join_ack_msg|const"><span>join_ack_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>maxr</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>maxv</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>⦈</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.paxos_ioa.propose_def|fact"><span class="entity_def" id="Paxos.paxos_ioa.propose_def|thm"><span class="entity_def" id="Paxos.paxos_ioa.propose_def_raw|axiom"><span class="entity_def" id="offset_1635..1645">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_ioa.propose.cong|fact"><span class="entity_def" id="Paxos.paxos_ioa.propose.cong|thm"><span class="entity_def" id="Paxos.paxos_ioa.propose|const"><span class="entity_def" id="offset_1646..1653">propose</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>propose</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> 
    </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.propose_msg|const"><span>propose_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>quorums</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>maxr</span></span><span> </span><span class="bound"><span>maxv</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxr</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.join_ack_msg|const"><span>join_ack_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>maxr</span></span><span> </span><span class="bound"><span>maxv</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxr</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.join_ack_msg|const"><span>join_ack_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>n'</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>maxr'</span></span><span> </span><span class="bound"><span>maxv'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>n'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxr'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxv'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.join_ack_msg|const"><span>join_ack_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>maxr'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>maxr</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
      </span><span class="main"><span>(</span></span><span class="bound"><span>maxr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>maxv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
      </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>⦇</span></span><span>propose_msg </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.propose_msg|const"><span>propose_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>⦈</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.paxos_ioa.vote_def|fact"><span class="entity_def" id="Paxos.paxos_ioa.vote_def|thm"><span class="entity_def" id="Paxos.paxos_ioa.vote_def_raw|axiom"><span class="entity_def" id="offset_2052..2062">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_ioa.vote|const"><span>vote</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vote</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> 
    </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.propose_msg|const"><span>propose_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> 
    </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="bound"><span>maxr</span></span><span> </span><span class="bound"><span>maxv</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxr</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.join_ack_msg|const"><span>join_ack_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>maxr</span></span><span> </span><span class="bound"><span>maxv</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span class="bound"><span>maxr</span></span><span class="main"><span>,</span></span><span class="bound"><span>maxv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.join_ack_msg|const"><span>join_ack_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
    </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>⦇</span></span><span>vote_msg </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.vote_msg|const"><span>vote_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>⦈</span></span><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.paxos_ioa.decide_def|fact"><span class="entity_def" id="Paxos.paxos_ioa.decide_def|thm"><span class="entity_def" id="Paxos.paxos_ioa.decide_def_raw|axiom"><span class="entity_def" id="offset_2313..2323">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_ioa.decide.cong|fact"><span class="entity_def" id="Paxos.paxos_ioa.decide.cong|thm"><span class="entity_def" id="Paxos.paxos_ioa.decide|const"><span class="entity_def" id="offset_2324..2330">decide</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>decide</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
    </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>quorums</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.vote_msg|const"><span>vote_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
    </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>⦇</span></span><span>decision </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.decision|const"><span>decision</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>⦈</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.elims|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.induct|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.simps|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.pelims|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.cases|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.termination|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.pinduct|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.psimps|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_rel.inducts|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_rel.simps|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_rel.induct|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_rel.cases|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_rel.intros|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_sumC.cong|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_graph.inducts|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_graph.simps|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_graph.induct|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_graph.cases|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_graph.intros|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_graph.cong|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.elims(3)|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.elims(2)|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.elims(1)|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.induct|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.simps(2)|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.simps(1)|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.pelims(3)|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.pelims(2)|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.pelims(1)|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.cases|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.termination|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.pinduct|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.psimps(2)|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.psimps(1)|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_rel.inducts|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_rel.simps|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_rel.induct|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_rel.cases|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_sumC.cong|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_graph.inducts|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_graph.simps|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_graph.induct|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_graph.cases|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_graph.intros(2)|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_graph.intros(1)|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_graph.cong|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_def|axiom"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_rel_def|axiom"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_sumC_def|axiom"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_graph_def|axiom"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_dom|const"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_rel|const"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_sumC|const"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.cong|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel.cong|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_rel|const"><span class="entity_def" id="offset_2475..2484">trans_rel</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'n</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state|type"><span>state</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action|type"><span>paxos_action</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'n</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state|type"><span>state</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>trans_rel</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Internal|const"><span>Internal</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_ioa.start_round|const"><span>start_round</span></a><span> </span><span class="bound"><span>r</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>maxr</span></span><span> </span><span class="bound"><span>maxv</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_ioa.join_round|const"><span>join_round</span></a><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>maxr</span></span><span> </span><span class="bound"><span>maxv</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#offset_1646..1653"><span>propose</span></a><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_ioa.vote|const"><span>vote</span></a><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>trans_rel</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Decision|const"><span>Decision</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>  </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#offset_2324..2330"><span>decide</span></a><span> </span><span class="bound"><span>r</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.paxos_ioa.trans_def|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans_def|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans_def_raw|axiom"><span class="entity_def" id="offset_2811..2821">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_ioa.trans.cong|fact"><span class="entity_def" id="Paxos.paxos_ioa.trans.cong|thm"><span class="entity_def" id="Paxos.paxos_ioa.trans|const"><span class="entity_def" id="offset_2822..2827">trans</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>trans</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_2475..2484"><span>trans_rel</span></a><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.paxos_ioa.paxos_ioa_def|fact"><span class="entity_def" id="Paxos.paxos_ioa.paxos_ioa_def|thm"><span class="entity_def" id="Paxos.paxos_ioa.paxos_ioa_def_raw|axiom"><span class="entity_def" id="offset_2878..2888">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_ioa.paxos_ioa.cong|fact"><span class="entity_def" id="Paxos.paxos_ioa.paxos_ioa.cong|thm"><span class="entity_def" id="Paxos.paxos_ioa.paxos_ioa|const"><span class="entity_def" id="offset_2889..2898">paxos_ioa</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>paxos_ioa</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>⦇</span></span><span>ioa.asig </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_asig|const"><span>paxos_asig</span></a><span class="main"><span>,</span></span><span> start </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_ioa.start|const"><span>start</span></a><span class="main"><span>,</span></span><span> trans </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_2822..2827"><span>trans</span></a><span class="main"><span>⦈</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_ioa.simps|fact"><span class="entity_def" id="Paxos.paxos_ioa.simps(9)|thm"><span class="entity_def" id="Paxos.paxos_ioa.simps(8)|thm"><span class="entity_def" id="Paxos.paxos_ioa.simps(7)|thm"><span class="entity_def" id="Paxos.paxos_ioa.simps(6)|thm"><span class="entity_def" id="Paxos.paxos_ioa.simps(5)|thm"><span class="entity_def" id="Paxos.paxos_ioa.simps(4)|thm"><span class="entity_def" id="Paxos.paxos_ioa.simps(3)|thm"><span class="entity_def" id="Paxos.paxos_ioa.simps(2)|thm"><span class="entity_def" id="Paxos.paxos_ioa.simps(1)|thm"><span>simps</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_2878..2888"><span>paxos_ioa_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_asig_def|fact"><span>paxos_asig_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_932..942"><span>start_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_1094..1104"><span>start_round_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_2811..2821"><span>trans_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_1635..1645"><span>propose_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_1212..1222"><span>join_round_def</span></a><span> 
  </span><a class="entity_ref" href="Paxos.html#offset_2052..2062"><span>vote_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_2313..2323"><span>decide_def</span></a><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>" The Abstract Paxos I/O-automaton "</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.abstract_state.arity_full_exhaustive_abstract_state_ext|fact"><span class="entity_def" id="Paxos.abstract_state.full_exhaustive_abstract_state_ext_def|fact"><span class="entity_def" id="Paxos.abstract_state.full_exhaustive_abstract_state_ext_inst.full_exhaustive_abstract_state_ext|fact"><span class="entity_def" id="Paxos.abstract_state.arity_random_abstract_state_ext|fact"><span class="entity_def" id="Paxos.abstract_state.random_abstract_state_ext_def|fact"><span class="entity_def" id="Paxos.abstract_state.random_abstract_state_ext_inst.random_abstract_state_ext|fact"><span class="entity_def" id="Paxos.abstract_state.arity_equal_abstract_state_ext|fact"><span class="entity_def" id="Paxos.abstract_state.equal_abstract_state_ext_def|fact"><span class="entity_def" id="Paxos.abstract_state.equal_abstract_state_ext_inst.equal_abstract_state_ext|fact"><span class="entity_def" id="Paxos.abstract_state.arity_partial_term_of_abstract_state_ext|fact"><span class="entity_def" id="Paxos.abstract_state.partial_term_of_abstract_state_ext_triv|fact"><span class="entity_def" id="Paxos.abstract_state.partial_term_of_abstract_state_ext_inst.partial_term_of_abstract_state_ext|fact"><span class="entity_def" id="Paxos.abstract_state.arity_term_of_abstract_state_ext|fact"><span class="entity_def" id="Paxos.abstract_state.term_of_abstract_state_ext_triv|fact"><span class="entity_def" id="Paxos.abstract_state.term_of_abstract_state_ext_inst.term_of_abstract_state_ext|fact"><span class="entity_def" id="Paxos.abstract_state.iffs|fact"><span class="entity_def" id="Paxos.abstract_state.simps|fact"><span class="entity_def" id="Paxos.abstract_state.cases|fact"><span class="entity_def" id="Paxos.abstract_state.cases_scheme|fact"><span class="entity_def" id="Paxos.abstract_state.induct|fact"><span class="entity_def" id="Paxos.abstract_state.induct_scheme|fact"><span class="entity_def" id="Paxos.abstract_state.equality|fact"><span class="entity_def" id="Paxos.abstract_state.surjective|fact"><span class="entity_def" id="Paxos.abstract_state.defs|fact"><span class="entity_def" id="Paxos.abstract_state.splits|fact"><span class="entity_def" id="Paxos.abstract_state.unfold_congs|fact"><span class="entity_def" id="Paxos.abstract_state.fold_congs|fact"><span class="entity_def" id="Paxos.abstract_state.update_defs|fact"><span class="entity_def" id="Paxos.abstract_state.select_defs|fact"><span class="entity_def" id="Paxos.abstract_state.update_convs|fact"><span class="entity_def" id="Paxos.abstract_state.select_convs|fact"><span class="entity_def" id="Paxos.abstract_state.truncate_def|fact"><span class="entity_def" id="Paxos.abstract_state.extend_def|fact"><span class="entity_def" id="Paxos.abstract_state.fields_def|fact"><span class="entity_def" id="Paxos.abstract_state.make_def|fact"><span class="entity_def" id="Paxos.abstract_state.more_update_def|fact"><span class="entity_def" id="Paxos.abstract_state.decision_update_def|fact"><span class="entity_def" id="Paxos.abstract_state.proposal_update_def|fact"><span class="entity_def" id="Paxos.abstract_state.joined_round_update_def|fact"><span class="entity_def" id="Paxos.abstract_state.votes_update_def|fact"><span class="entity_def" id="Paxos.abstract_state.more_def|fact"><span class="entity_def" id="Paxos.abstract_state.decision_def|fact"><span class="entity_def" id="Paxos.abstract_state.proposal_def|fact"><span class="entity_def" id="Paxos.abstract_state.joined_round_def|fact"><span class="entity_def" id="Paxos.abstract_state.votes_def|fact"><span class="entity_def" id="Paxos.abstract_state.ext_split|fact"><span class="entity_def" id="Paxos.abstract_state.ext_surjective|fact"><span class="entity_def" id="Paxos.abstract_state.ext_inject|fact"><span class="entity_def" id="Paxos.abstract_state.ext_induct|fact"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext_def|fact"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.abstract_state_ext_Tuple_Iso_def|fact"><span class="entity_def" id="Paxos.abstract_state.arity_typerep_abstract_state_ext|fact"><span class="entity_def" id="Paxos.abstract_state.typerep_abstract_state_ext_def|fact"><span class="entity_def" id="Paxos.abstract_state.typerep_abstract_state_ext_inst.typerep_abstract_state_ext|fact"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Abs_abstract_state_ext_induct|fact"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Rep_abstract_state_ext_induct|fact"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Abs_abstract_state_ext_cases|fact"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Rep_abstract_state_ext_cases|fact"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Abs_abstract_state_ext_inject|fact"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Rep_abstract_state_ext_inject|fact"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Abs_abstract_state_ext_inverse|fact"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Rep_abstract_state_ext_inverse|fact"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Rep_abstract_state_ext|fact"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.type_definition_abstract_state_ext|fact"><span class="entity_def" id="Paxos.abstract_state.arity_type_abstract_state_ext|fact"><span class="entity_def" id="Paxos.abstract_state.arity_full_exhaustive_abstract_state_ext|thm"><span class="entity_def" id="Paxos.abstract_state.full_exhaustive_abstract_state_ext_def|thm"><span class="entity_def" id="Paxos.abstract_state.full_exhaustive_abstract_state_ext_inst.full_exhaustive_abstract_state_ext|thm"><span class="entity_def" id="Paxos.abstract_state.arity_random_abstract_state_ext|thm"><span class="entity_def" id="Paxos.abstract_state.random_abstract_state_ext_def|thm"><span class="entity_def" id="Paxos.abstract_state.random_abstract_state_ext_inst.random_abstract_state_ext|thm"><span class="entity_def" id="Paxos.abstract_state.arity_equal_abstract_state_ext|thm"><span class="entity_def" id="Paxos.abstract_state.equal_abstract_state_ext_def|thm"><span class="entity_def" id="Paxos.abstract_state.equal_abstract_state_ext_inst.equal_abstract_state_ext|thm"><span class="entity_def" id="Paxos.abstract_state.arity_partial_term_of_abstract_state_ext|thm"><span class="entity_def" id="Paxos.abstract_state.partial_term_of_abstract_state_ext_triv|thm"><span class="entity_def" id="Paxos.abstract_state.partial_term_of_abstract_state_ext_inst.partial_term_of_abstract_state_ext|thm"><span class="entity_def" id="Paxos.abstract_state.arity_term_of_abstract_state_ext|thm"><span class="entity_def" id="Paxos.abstract_state.term_of_abstract_state_ext_triv|thm"><span class="entity_def" id="Paxos.abstract_state.term_of_abstract_state_ext_inst.term_of_abstract_state_ext|thm"><span class="entity_def" id="Paxos.abstract_state.iffs|thm"><span class="entity_def" id="Paxos.abstract_state.simps(10)|thm"><span class="entity_def" id="Paxos.abstract_state.simps(9)|thm"><span class="entity_def" id="Paxos.abstract_state.simps(8)|thm"><span class="entity_def" id="Paxos.abstract_state.simps(7)|thm"><span class="entity_def" id="Paxos.abstract_state.simps(6)|thm"><span class="entity_def" id="Paxos.abstract_state.simps(5)|thm"><span class="entity_def" id="Paxos.abstract_state.simps(4)|thm"><span class="entity_def" id="Paxos.abstract_state.simps(3)|thm"><span class="entity_def" id="Paxos.abstract_state.simps(2)|thm"><span class="entity_def" id="Paxos.abstract_state.simps(1)|thm"><span class="entity_def" id="Paxos.abstract_state.cases|thm"><span class="entity_def" id="Paxos.abstract_state.cases_scheme|thm"><span class="entity_def" id="Paxos.abstract_state.induct|thm"><span class="entity_def" id="Paxos.abstract_state.induct_scheme|thm"><span class="entity_def" id="Paxos.abstract_state.equality|thm"><span class="entity_def" id="Paxos.abstract_state.surjective|thm"><span class="entity_def" id="Paxos.abstract_state.defs(4)|thm"><span class="entity_def" id="Paxos.abstract_state.defs(3)|thm"><span class="entity_def" id="Paxos.abstract_state.defs(2)|thm"><span class="entity_def" id="Paxos.abstract_state.defs(1)|thm"><span class="entity_def" id="Paxos.abstract_state.splits(3)|thm"><span class="entity_def" id="Paxos.abstract_state.splits(2)|thm"><span class="entity_def" id="Paxos.abstract_state.splits(1)|thm"><span class="entity_def" id="Paxos.abstract_state.unfold_congs(5)|thm"><span class="entity_def" id="Paxos.abstract_state.unfold_congs(4)|thm"><span class="entity_def" id="Paxos.abstract_state.unfold_congs(3)|thm"><span class="entity_def" id="Paxos.abstract_state.unfold_congs(2)|thm"><span class="entity_def" id="Paxos.abstract_state.unfold_congs(1)|thm"><span class="entity_def" id="Paxos.abstract_state.fold_congs(5)|thm"><span class="entity_def" id="Paxos.abstract_state.fold_congs(4)|thm"><span class="entity_def" id="Paxos.abstract_state.fold_congs(3)|thm"><span class="entity_def" id="Paxos.abstract_state.fold_congs(2)|thm"><span class="entity_def" id="Paxos.abstract_state.fold_congs(1)|thm"><span class="entity_def" id="Paxos.abstract_state.update_defs(5)|thm"><span class="entity_def" id="Paxos.abstract_state.update_defs(4)|thm"><span class="entity_def" id="Paxos.abstract_state.update_defs(3)|thm"><span class="entity_def" id="Paxos.abstract_state.update_defs(2)|thm"><span class="entity_def" id="Paxos.abstract_state.update_defs(1)|thm"><span class="entity_def" id="Paxos.abstract_state.select_defs(5)|thm"><span class="entity_def" id="Paxos.abstract_state.select_defs(4)|thm"><span class="entity_def" id="Paxos.abstract_state.select_defs(3)|thm"><span class="entity_def" id="Paxos.abstract_state.select_defs(2)|thm"><span class="entity_def" id="Paxos.abstract_state.select_defs(1)|thm"><span class="entity_def" id="Paxos.abstract_state.update_convs(5)|thm"><span class="entity_def" id="Paxos.abstract_state.update_convs(4)|thm"><span class="entity_def" id="Paxos.abstract_state.update_convs(3)|thm"><span class="entity_def" id="Paxos.abstract_state.update_convs(2)|thm"><span class="entity_def" id="Paxos.abstract_state.update_convs(1)|thm"><span class="entity_def" id="Paxos.abstract_state.select_convs(5)|thm"><span class="entity_def" id="Paxos.abstract_state.select_convs(4)|thm"><span class="entity_def" id="Paxos.abstract_state.select_convs(3)|thm"><span class="entity_def" id="Paxos.abstract_state.select_convs(2)|thm"><span class="entity_def" id="Paxos.abstract_state.select_convs(1)|thm"><span class="entity_def" id="Paxos.abstract_state.truncate_def|thm"><span class="entity_def" id="Paxos.abstract_state.extend_def|thm"><span class="entity_def" id="Paxos.abstract_state.fields_def|thm"><span class="entity_def" id="Paxos.abstract_state.make_def|thm"><span class="entity_def" id="Paxos.abstract_state.more_update_def|thm"><span class="entity_def" id="Paxos.abstract_state.decision_update_def|thm"><span class="entity_def" id="Paxos.abstract_state.proposal_update_def|thm"><span class="entity_def" id="Paxos.abstract_state.joined_round_update_def|thm"><span class="entity_def" id="Paxos.abstract_state.votes_update_def|thm"><span class="entity_def" id="Paxos.abstract_state.more_def|thm"><span class="entity_def" id="Paxos.abstract_state.decision_def|thm"><span class="entity_def" id="Paxos.abstract_state.proposal_def|thm"><span class="entity_def" id="Paxos.abstract_state.joined_round_def|thm"><span class="entity_def" id="Paxos.abstract_state.votes_def|thm"><span class="entity_def" id="Paxos.abstract_state.ext_split|thm"><span class="entity_def" id="Paxos.abstract_state.ext_surjective|thm"><span class="entity_def" id="Paxos.abstract_state.ext_inject|thm"><span class="entity_def" id="Paxos.abstract_state.ext_induct|thm"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext_def|thm"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.abstract_state_ext_Tuple_Iso_def|thm"><span class="entity_def" id="Paxos.abstract_state.arity_typerep_abstract_state_ext|thm"><span class="entity_def" id="Paxos.abstract_state.typerep_abstract_state_ext_def|thm"><span class="entity_def" id="Paxos.abstract_state.typerep_abstract_state_ext_inst.typerep_abstract_state_ext|thm"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Abs_abstract_state_ext_induct|thm"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Rep_abstract_state_ext_induct|thm"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Abs_abstract_state_ext_cases|thm"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Rep_abstract_state_ext_cases|thm"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Abs_abstract_state_ext_inject|thm"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Rep_abstract_state_ext_inject|thm"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Abs_abstract_state_ext_inverse|thm"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Rep_abstract_state_ext_inverse|thm"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Rep_abstract_state_ext|thm"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.type_definition_abstract_state_ext|thm"><span class="entity_def" id="Paxos.abstract_state.arity_type_abstract_state_ext|thm"><span class="entity_def" id="Paxos.abstract_state.full_exhaustive_abstract_state_ext_def_raw|axiom"><span class="entity_def" id="Paxos.abstract_state.full_exhaustive_abstract_state_ext_inst.full_exhaustive_abstract_state_ext_def|axiom"><span class="entity_def" id="Paxos.abstract_state.random_abstract_state_ext_def_raw|axiom"><span class="entity_def" id="Paxos.abstract_state.random_abstract_state_ext_inst.random_abstract_state_ext_def|axiom"><span class="entity_def" id="Paxos.abstract_state.equal_abstract_state_ext_def_raw|axiom"><span class="entity_def" id="Paxos.abstract_state.equal_abstract_state_ext_inst.equal_abstract_state_ext_def|axiom"><span class="entity_def" id="Paxos.abstract_state.partial_term_of_abstract_state_ext_triv_raw|axiom"><span class="entity_def" id="Paxos.abstract_state.partial_term_of_abstract_state_ext_inst.partial_term_of_abstract_state_ext_def|axiom"><span class="entity_def" id="Paxos.abstract_state.term_of_abstract_state_ext_triv_raw|axiom"><span class="entity_def" id="Paxos.abstract_state.term_of_abstract_state_ext_inst.term_of_abstract_state_ext_def|axiom"><span class="entity_def" id="Paxos.abstract_state.truncate_def|axiom"><span class="entity_def" id="Paxos.abstract_state.extend_def|axiom"><span class="entity_def" id="Paxos.abstract_state.fields_def|axiom"><span class="entity_def" id="Paxos.abstract_state.make_def|axiom"><span class="entity_def" id="Paxos.abstract_state.more_update_def|axiom"><span class="entity_def" id="Paxos.abstract_state.decision_update_def|axiom"><span class="entity_def" id="Paxos.abstract_state.proposal_update_def|axiom"><span class="entity_def" id="Paxos.abstract_state.joined_round_update_def|axiom"><span class="entity_def" id="Paxos.abstract_state.votes_update_def|axiom"><span class="entity_def" id="Paxos.abstract_state.more_def|axiom"><span class="entity_def" id="Paxos.abstract_state.decision_def|axiom"><span class="entity_def" id="Paxos.abstract_state.proposal_def|axiom"><span class="entity_def" id="Paxos.abstract_state.joined_round_def|axiom"><span class="entity_def" id="Paxos.abstract_state.votes_def|axiom"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext_def|axiom"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.abstract_state_ext_Tuple_Iso_def|axiom"><span class="entity_def" id="Paxos.abstract_state.typerep_abstract_state_ext_def_raw|axiom"><span class="entity_def" id="Paxos.abstract_state.typerep_abstract_state_ext_inst.typerep_abstract_state_ext_def|axiom"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.type_definition_abstract_state_ext|axiom"><span class="entity_def" id="Paxos.abstract_state.arity_type_abstract_state_ext|axiom"><span class="entity_def" id="Paxos.abstract_state.full_exhaustive_abstract_state_ext_inst.full_exhaustive_abstract_state_ext|const"><span class="entity_def" id="Paxos.abstract_state.random_abstract_state_ext_inst.random_abstract_state_ext|const"><span class="entity_def" id="Paxos.abstract_state.equal_abstract_state_ext_inst.equal_abstract_state_ext|const"><span class="entity_def" id="Paxos.abstract_state.partial_term_of_abstract_state_ext_inst.partial_term_of_abstract_state_ext|const"><span class="entity_def" id="Paxos.abstract_state.term_of_abstract_state_ext_inst.term_of_abstract_state_ext|const"><span class="entity_def" id="Paxos.abstract_state.truncate|const"><span class="entity_def" id="Paxos.abstract_state.extend|const"><span class="entity_def" id="Paxos.abstract_state.fields|const"><span class="entity_def" id="Paxos.abstract_state.make|const"><span class="entity_def" id="Paxos.abstract_state.more_update|const"><span class="entity_def" id="Paxos.abstract_state.decision_update|const"><span class="entity_def" id="Paxos.abstract_state.proposal_update|const"><span class="entity_def" id="Paxos.abstract_state.joined_round_update|const"><span class="entity_def" id="Paxos.abstract_state.votes_update|const"><span class="entity_def" id="Paxos.abstract_state.more|const"><span class="entity_def" id="Paxos.abstract_state.decision|const"><span class="entity_def" id="Paxos.abstract_state.proposal|const"><span class="entity_def" id="Paxos.abstract_state.joined_round|const"><span class="entity_def" id="Paxos.abstract_state.votes|const"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext|const"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.abstract_state_ext_Tuple_Iso|const"><span class="entity_def" id="Paxos.abstract_state.typerep_abstract_state_ext_inst.typerep_abstract_state_ext|const"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Abs_abstract_state_ext|const"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext.Rep_abstract_state_ext|const"><span class="entity_def" id="Paxos.abstract_state.abstract_state_ext|type"><span>record</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'n</span></span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="Paxos.abstract_state_scheme|type"><span class="entity_def" id="Paxos.abstract_state|type"><span>abstract_state</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  votes </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  joined_round </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  proposal </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  decision </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>locale</span></span></span><span> </span><span class="entity_def" id="Paxos.abstract_paxos_ioa|locale"><span>abstract_paxos_ioa</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>quorums</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'n</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.abstract_paxos_ioa.start_def|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.start_def|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.start_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.abstract_paxos_ioa.start|const"><span>start</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="comment1"><span>― ‹ The initial state ›</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>start</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>⦇</span></span><span> votes </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>,</span></span><span> joined_round </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>,</span></span><span> proposal </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>,</span></span><span> decision </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⦈</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.abstract_paxos_ioa.vote_def|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.vote_def|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.vote_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.abstract_paxos_ioa.vote|const"><span>vote</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vote</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
    </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span class="bound"><span>r'</span></span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>⦇</span></span><span>votes </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>⦈</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.abstract_paxos_ioa.join_round_def|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.join_round_def|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.join_round_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.abstract_paxos_ioa.join_round|const"><span>join_round</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>join_round</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span class="bound"><span>r'</span></span></span><span> </span><span class="main"><span>≥</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>⦇</span></span><span>joined_round </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>⦈</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.abstract_paxos_ioa.propose_def|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.propose_def|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.propose_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.abstract_paxos_ioa.propose.cong|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.propose.cong|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.propose|const"><span class="entity_def" id="offset_3866..3873">propose</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>propose</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
    </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>quorums</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>maxr</span></span><span> </span><span class="bound"><span>maxn</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>maxr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>maxr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span class="bound"><span>r'</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> 
        </span><span class="main"><span>(</span></span><span class="bound"><span>maxr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>maxn</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxr</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span class="bound"><span>r'</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span>
          </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>maxr</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
      </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>⦇</span></span><span>proposal </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>⦈</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.abstract_paxos_ioa.decide_def|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.decide_def|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.decide_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.abstract_paxos_ioa.decide.cong|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.decide.cong|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.decide|const"><span class="entity_def" id="offset_4297..4303">decide</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>  
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>decide</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> 
    </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>quorums</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
    </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>⦇</span></span><span>decision </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.decision|const"><span>decision</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>⦈</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.elims|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.induct|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.simps|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.pelims|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.cases|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.termination|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.pinduct|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.psimps|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_rel.inducts|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_rel.simps|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_rel.induct|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_rel.cases|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_rel.intros|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_sumC.cong|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_graph.inducts|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_graph.simps|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_graph.induct|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_graph.cases|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_graph.intros|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_graph.cong|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.elims(3)|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.elims(2)|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.elims(1)|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.induct|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.simps(2)|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.simps(1)|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.pelims(3)|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.pelims(2)|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.pelims(1)|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.cases|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.termination|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.pinduct|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.psimps(2)|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.psimps(1)|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_rel.inducts|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_rel.simps|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_rel.induct|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_rel.cases|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_sumC.cong|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_graph.inducts|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_graph.simps|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_graph.induct|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_graph.cases|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_graph.intros(2)|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_graph.intros(1)|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_graph.cong|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_def|axiom"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_rel_def|axiom"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_sumC_def|axiom"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_graph_def|axiom"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_dom|const"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_rel|const"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_sumC|const"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.cong|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel.cong|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_rel|const"><span class="entity_def" id="offset_4448..4457">trans_rel</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'n</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state|type"><span>abstract_state</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action|type"><span>paxos_action</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'n</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state|type"><span>abstract_state</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>trans_rel</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Internal|const"><span>Internal</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_paxos_ioa.join_round|const"><span>join_round</span></a><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#offset_3866..3873"><span>propose</span></a><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_paxos_ioa.vote|const"><span>vote</span></a><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>trans_rel</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Decision|const"><span>Decision</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>  </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#offset_4297..4303"><span>decide</span></a><span> </span><span class="bound"><span>r</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s'</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_def|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_def|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans.cong|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans.cong|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.trans|const"><span class="entity_def" id="offset_4757..4762">trans</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>trans</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_4448..4457"><span>trans_rel</span></a><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.abstract_paxos_ioa.abstract_paxos_ioa_def|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.abstract_paxos_ioa_def|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.abstract_paxos_ioa_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.abstract_paxos_ioa.abstract_paxos_ioa.cong|fact"><span class="entity_def" id="Paxos.abstract_paxos_ioa.abstract_paxos_ioa.cong|thm"><span class="entity_def" id="Paxos.abstract_paxos_ioa.abstract_paxos_ioa|const"><span class="entity_def" id="offset_4824..4842">abstract_paxos_ioa</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'n</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state|type"><span>abstract_state</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action|type"><span>paxos_action</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.ioa|type"><span>ioa</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>abstract_paxos_ioa</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>⦇</span></span><span>ioa.asig </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_asig|const"><span>paxos_asig</span></a><span class="main"><span>,</span></span><span> start </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_paxos_ioa.start|const"><span>start</span></a><span class="main"><span>,</span></span><span> trans </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_4757..4762"><span>trans</span></a><span class="main"><span>⦈</span></span><span>"</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>" Proof Automation setup "</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>" A very simple verification-condition generator for proving invariants, that unfolds definitions and 
  inserts proved invariants as premises. "</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>named_theorems</span></span></span><span> </span><span class="entity_def" id="Paxos.invs|attribute"><span class="entity_def" id="Paxos.invs|fact"><span>invs</span></span></span><span> </span><span class="keyword1"><span class="command"><span>named_theorems</span></span></span><span> </span><span class="entity_def" id="Paxos.inv_defs|attribute"><span class="entity_def" id="Paxos.inv_defs|fact"><span>inv_defs</span></span></span><span> </span><span class="keyword1"><span class="command"><span>named_theorems</span></span></span><span> </span><span class="entity_def" id="Paxos.ioa_defs|attribute"><span class="entity_def" id="Paxos.ioa_defs|fact"><span>ioa_defs</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.rm_reachable.rm_reachable|method"><span>method</span></span></span></span><span> </span><span class="entity_def" id="Paxos.rm_reachable|method"><span>rm_reachable</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/match_method.ML.html#Eisbach.match|method"><span class="operator"><span>match</span></span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>premises</span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span>R</span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/match_method.ML.html#Eisbach.thin|attribute"><span class="operator"><span>thin</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA.reachable|const"><span>reachable</span></a><span> </span><span class="var"><span>?ioa</span></span><span> </span><span class="var"><span>?s</span></span><span>"</span></span></span><span> </span><span class="main"><span class="main"><span>⇒</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="operator"><span>-</span></span><span>›</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Paxos.reach_and_inv_imp_p|fact"><span class="entity_def" id="Paxos.reach_and_inv_imp_p|thm"><span>reach_and_inv_imp_p</span></span></span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA.reachable|const"><span>reachable</span></a><span> </span><span class="free"><span>ioa</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA.invariant|const"><span>invariant</span></a><span> </span><span class="free"><span>ioa</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.invariant_def|fact"><span>invariant_def</span></a><span class="main"><span>)</span></span><span>
    
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.instantiate_invs.instantiate_invs|method"><span>method</span></span></span></span><span> </span><span class="entity_def" id="Paxos.instantiate_invs|method"><span>instantiate_invs</span></span><span> </span><span class="keyword2"><span class="keyword"><span>declares</span></span></span><span> invs </span><span class="main"><span>=</span></span><span>
  </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/match_method.ML.html#Eisbach.match|method"><span class="operator"><span>match</span></span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>premises</span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="entity_def" id="offset_5492..5493">I</span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/match_method.ML.html#Eisbach.thin|attribute"><span class="operator"><span>thin</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA.invariant|const"><span>invariant</span></a><span> </span><span class="var"><span>?ioa</span></span><span> </span><span class="var"><span>?inv</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="entity_def" id="offset_5526..5527">R</span><span class="main"><span class="main"><span>:</span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA.reachable|const"><span>reachable</span></a><span> </span><span class="var"><span>?ioa</span></span><span> </span><span class="var"><span>?s</span></span><span>"</span></span></span><span> </span><span class="main"><span class="main"><span>⇒</span></span></span><span> </span><span class="quoted"><span>‹
    </span><a class="entity_ref" href="HOL-Eisbach.Eisbach_Tools.html#Eisbach_Tools.print_fact|method"><span class="operator"><span>print_fact</span></span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5492..5493"><span>I</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.reach_and_inv_imp_p|fact"><span>reach_and_inv_imp_p</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_5526..5527"><span>R</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5492..5493"><span>I</span></a><span class="main"><span class="main"><span>]</span></span></span><span>›</span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.inv_vcg.inv_vcg|method"><span>method</span></span></span></span><span> </span><span class="entity_def" id="Paxos.inv_vcg|method"><span>inv_vcg</span></span><span> </span><span class="keyword2"><span class="keyword"><span>declares</span></span></span><span> invs ioa_defs inv_defs </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>
  </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Paxos.html#Paxos.invariantI|fact"><span>invariantI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span>
  </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.ioa_defs|fact"><span class="dynamic"><span class="dynamic"><span>ioa_defs</span></span></span></a><span> </span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|fact"><span class="dynamic"><span class="dynamic"><span>inv_defs</span></span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> 
  </span><span class="main"><span>(</span></span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.invs|fact"><span class="dynamic"><span class="dynamic"><span>invs</span></span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.instantiate_invs|method"><span class="operator"><span>instantiate_invs</span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>?</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.rm_reachable|method"><span class="operator"><span>rm_reachable</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.ioa_defs|fact"><span class="dynamic"><span class="dynamic"><span>ioa_defs</span></span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.paxos_proof.con_ioa_def|fact"><span class="entity_def" id="Paxos.paxos_proof.abs_ioa_def|fact"><span class="entity_def" id="Paxos.paxos_proof.intro|fact"><span class="entity_def" id="Paxos.paxos_proof_def|fact"><span class="entity_def" id="Paxos.paxos_proof.con_ioa_def|thm"><span class="entity_def" id="Paxos.paxos_proof.abs_ioa_def|thm"><span class="entity_def" id="Paxos.paxos_proof.intro|thm"><span class="entity_def" id="Paxos.paxos_proof_def|thm"><span class="entity_def" id="Paxos.paxos_proof_def|axiom"><span class="entity_def" id="offset_5790..5796">locale</span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof|locale"><span class="entity_def" id="Paxos.paxos_proof|const"><span class="entity_def" id="offset_5797..5808">paxos_proof</span></span></span><span> </span><span class="main"><span>=</span></span><span> abs</span><span class="main"><span>:</span></span><a class="entity_ref" href="Paxos.html#Paxos.abstract_paxos_ioa|locale"><span>abstract_paxos_ioa</span></a><span> </span><span class="quoted"><span class="free"><span>quorums</span></span></span><span> </span><span class="main"><span>+</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_ioa|locale"><span>paxos_ioa</span></a><span> </span><span class="quoted"><span class="free"><span>quorums</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>quorums</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'n</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span> </span><span class="main"><span>+</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>abs_ioa</span></span><span>  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'n</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state|type"><span>abstract_state</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action|type"><span>paxos_action</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.ioa|type"><span>ioa</span></a><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>con_ioa</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'n</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state|type"><span>state</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action|type"><span>paxos_action</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.ioa|type"><span>ioa</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>defines</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>abs_ioa</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_4824..4842"><span>abs.abstract_paxos_ioa</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>con_ioa</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_2889..2898"><span>paxos_ioa</span></a><span>"</span></span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>q1</span></span><span> </span><span class="bound"><span>q2</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span class="bound"><span>q1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>quorums</span></span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>q2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>quorums</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>q1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="bound"><span>q2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>quorums</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>quorums</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="bound"><span>q</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>quorums</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6264..6269">lemma</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.quorum_inter_witness|fact"><span class="entity_def" id="Paxos.paxos_proof.quorum_inter_witness|thm"><span class="entity_def" id="offset_6270..6290">quorum_inter_witness</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.elim|attribute"><span class="operator"><span>elim</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>q1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>quorums</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>q2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>quorums</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>q1</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>q2</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_6264..6269"><span>assms</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5797..5808"><span>paxos_proof_axioms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.disjoint_iff_not_equal|fact"><span>disjoint_iff_not_equal</span></a><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof_def|fact"><span>paxos_proof_def</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.asig_simps|fact"><span class="entity_def" id="Paxos.paxos_proof.asig_simps(6)|thm"><span class="entity_def" id="Paxos.paxos_proof.asig_simps(5)|thm"><span class="entity_def" id="Paxos.paxos_proof.asig_simps(4)|thm"><span class="entity_def" id="Paxos.paxos_proof.asig_simps(3)|thm"><span class="entity_def" id="Paxos.paxos_proof.asig_simps(2)|thm"><span class="entity_def" id="Paxos.paxos_proof.asig_simps(1)|thm"><span class="entity_def" id="offset_6477..6487">asig_simps</span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span>  </span><a class="entity_ref" href="Paxos.html#Paxos.externals_def|fact"><span>externals_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>abs.abstract_paxos_ioa_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_asig_def|fact"><span>paxos_asig_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>con_ioa_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>abs_ioa_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>paxos_ioa_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.trans_simps|fact"><span class="entity_def" id="Paxos.paxos_proof.trans_simps(9)|thm"><span class="entity_def" id="Paxos.paxos_proof.trans_simps(8)|thm"><span class="entity_def" id="Paxos.paxos_proof.trans_simps(7)|thm"><span class="entity_def" id="Paxos.paxos_proof.trans_simps(6)|thm"><span class="entity_def" id="Paxos.paxos_proof.trans_simps(5)|thm"><span class="entity_def" id="Paxos.paxos_proof.trans_simps(4)|thm"><span class="entity_def" id="Paxos.paxos_proof.trans_simps(3)|thm"><span class="entity_def" id="Paxos.paxos_proof.trans_simps(2)|thm"><span class="entity_def" id="Paxos.paxos_proof.trans_simps(1)|thm"><span class="entity_def" id="offset_6592..6603">trans_simps</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>con_ioa_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>paxos_ioa_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>start_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>abs_ioa_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>abs.abstract_paxos_ioa_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>abs.start_def</span></a><span>
  </span><a class="entity_ref" href="Paxos.html#Paxos.is_trans_def|fact"><span>is_trans_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>trans_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>abs.trans_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.act_defs|fact"><span class="entity_def" id="Paxos.paxos_proof.act_defs(9)|thm"><span class="entity_def" id="Paxos.paxos_proof.act_defs(8)|thm"><span class="entity_def" id="Paxos.paxos_proof.act_defs(7)|thm"><span class="entity_def" id="Paxos.paxos_proof.act_defs(6)|thm"><span class="entity_def" id="Paxos.paxos_proof.act_defs(5)|thm"><span class="entity_def" id="Paxos.paxos_proof.act_defs(4)|thm"><span class="entity_def" id="Paxos.paxos_proof.act_defs(3)|thm"><span class="entity_def" id="Paxos.paxos_proof.act_defs(2)|thm"><span class="entity_def" id="Paxos.paxos_proof.act_defs(1)|thm"><span class="entity_def" id="offset_6741..6749">act_defs</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span>  </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>abs.propose_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>abs.join_round_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>abs.vote_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>abs.decide_def</span></a><span>
  </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>vote_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>start_round_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>join_round_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>decide_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>propose_def</span></a><span>
  
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_6592..6603"><span>trans_simps</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Paxos.html#Paxos.ioa_defs|attribute"><span class="operator"><span>ioa_defs</span></span></a><span class="main"><span>]</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>" Proof of Abstract Paxos "</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_proof.safety|const"><span>safety</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.safety_def|fact"><span class="entity_def" id="Paxos.paxos_proof.safety_def|thm"><span class="entity_def" id="Paxos.paxos_proof.safety_def_raw|axiom"><span>safety_def</span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|attribute"><span class="operator"><span>inv_defs</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>safety</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="bound"><span>v'</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.decision|const"><span>decision</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span class="bound"><span>v'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.decision|const"><span>decision</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>v'</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_proof.invariant_1|const"><span>invariant_1</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.invariant_1_def|fact"><span class="entity_def" id="Paxos.paxos_proof.invariant_1_def|thm"><span class="entity_def" id="Paxos.paxos_proof.invariant_1_def_raw|axiom"><span class="entity_def" id="offset_7112..7127">invariant_1_def</span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|attribute"><span class="operator"><span>inv_defs</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>invariant_1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="bound"><span>v'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>v'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.paxos_proof.choosable_def|fact"><span class="entity_def" id="Paxos.paxos_proof.choosable_def|thm"><span class="entity_def" id="Paxos.paxos_proof.choosable_def_raw|axiom"><span class="entity_def" id="offset_7285..7295">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_proof.choosable.cong|fact"><span class="entity_def" id="Paxos.paxos_proof.choosable.cong|thm"><span class="entity_def" id="Paxos.paxos_proof.choosable|const"><span class="entity_def" id="offset_7296..7305">choosable</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>choosable</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>∃</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>quorums</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>.</span></span><span> 
    </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span> </span><span class="bound"><span class="bound"><span>r'</span></span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_proof.invariant_2.cong|fact"><span class="entity_def" id="Paxos.paxos_proof.invariant_2.cong|thm"><span class="entity_def" id="Paxos.paxos_proof.invariant_2|const"><span class="entity_def" id="offset_7440..7451">invariant_2</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.invariant_2_def|fact"><span class="entity_def" id="Paxos.paxos_proof.invariant_2_def|thm"><span class="entity_def" id="Paxos.paxos_proof.invariant_2_def_raw|axiom"><span class="entity_def" id="offset_7458..7473">invariant_2_def</span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|attribute"><span class="operator"><span>inv_defs</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>invariant_2</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="bound"><span>v'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> 
    </span><a class="entity_ref" href="Paxos.html#offset_7296..7305"><span>choosable</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="bound"><span>v'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>v'</span></span><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_proof.invariant_3.cong|fact"><span class="entity_def" id="Paxos.paxos_proof.invariant_3.cong|thm"><span class="entity_def" id="Paxos.paxos_proof.invariant_3|const"><span class="entity_def" id="offset_7596..7607">invariant_3</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.invariant_3_def|fact"><span class="entity_def" id="Paxos.paxos_proof.invariant_3_def|thm"><span class="entity_def" id="Paxos.paxos_proof.invariant_3_def_raw|axiom"><span>invariant_3_def</span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|attribute"><span class="operator"><span>inv_defs</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>invariant_3</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.decision|const"><span>decision</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>quorums</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_6741..6749"><span>act_defs</span></a><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7765..7770">lemma</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.abs_trans_cases|fact"><span class="entity_def" id="Paxos.paxos_proof.abs_trans_cases|thm"><span class="entity_def" id="offset_7771..7786">abs_trans_cases</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="comment1"><span>― ‹A case split rule for analyzing the transition relation by cases›</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#offset_4448..4457"><span>abs.trans_rel</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>s'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span>
  </span><span class="main"><span>(</span></span><span>abs_join_round</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.abstract_paxos_ioa.join_round|const"><span>abs.join_round</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>s'</span></span><span>"</span></span></span><span>  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Internal|const"><span>Internal</span></a><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span>
  </span><span class="main"><span>(</span></span><span>abs_propose</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#offset_3866..3873"><span>abs.propose</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>s'</span></span><span>"</span></span></span><span>  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Internal|const"><span>Internal</span></a><span>"</span></span></span><span class="main"><span>|</span></span><span>
  </span><span class="main"><span>(</span></span><span>abs_vote</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.abstract_paxos_ioa.vote|const"><span>abs.vote</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>s'</span></span><span>"</span></span></span><span>  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Internal|const"><span>Internal</span></a><span>"</span></span></span><span class="main"><span>|</span></span><span>
  </span><span class="main"><span>(</span></span><span>abs_decide</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#offset_4297..4303"><span>abs.decide</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>s'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Decision|const"><span>Decision</span></a><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_paxos_ioa.trans_rel.elims|fact"><span>abstract_paxos_ioa.trans_rel.elims</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_7765..7770"><span>assms</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.invariant_1|fact"><span class="entity_def" id="Paxos.paxos_proof.invariant_1|thm"><span class="entity_def" id="offset_8256..8267">invariant_1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA.invariant|const"><span>invariant</span></a><span> </span><span class="free"><span>abs_ioa</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.invariant_1|const"><span>invariant_1</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_vcg|method"><span class="operator"><span>inv_vcg</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_7771..7786"><span>abs_trans_cases</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|fact"><span class="dynamic"><span class="dynamic"><span>inv_defs</span></span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_8256..8267"><span>invariant_1</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Paxos.html#Paxos.invs|attribute"><span class="operator"><span>invs</span></span></a><span class="main"><span>]</span></span><span>
   
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.invariant_2|fact"><span class="entity_def" id="Paxos.paxos_proof.invariant_2|thm"><span class="entity_def" id="offset_8419..8430">invariant_2</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA.invariant|const"><span>invariant</span></a><span> </span><span class="free"><span>abs_ioa</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_7440..7451"><span>invariant_2</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_vcg|method"><span class="operator"><span>inv_vcg</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_8503..8508">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> s s' a </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_8503..8508"><span>prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_7771..7786"><span>abs_trans_cases</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_8582..8596">abs_join_round</span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="skolem"><span>s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="skolem"><span>s'</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="skolem"><span>s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_8582..8596"><span>abs_join_round</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_8503..8508"><span>prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_7458..7473"><span>invariant_2_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_7285..7295"><span>choosable_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_8890..8901">abs_propose</span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="skolem"><span>s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="skolem"><span>s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="skolem"><span>s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="skolem"><span>r</span></span><span class="main"><span>,</span></span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_8890..8901"><span>abs_propose</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9077..9081">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>v</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#offset_7296..7305"><span>choosable</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>r'</span></span><span> </span><span class="skolem"><span>v'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>v'</span></span><span> </span><span class="skolem"><span>r'</span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9160..9168">q_joined</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>quorums</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_8890..8901"><span>abs_propose</span></a><span> 
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
      </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>rmax</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>n</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>quorums</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>rmax</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span>
        </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>rmax</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span class="bound"><span>r'</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
         </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>rmax</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>rmax</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="skolem"><span>s</span></span><span>  
            </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n'</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span class="bound"><span>r'</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>rmax</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_8890..8901"><span>abs_propose</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9542..9544">by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_9542..9544"><span>this</span></a><span> </span><span class="keyword1"><span class="command"><span>consider</span></span></span><span>
        </span><span class="main"><span>(</span></span><span>no_votes</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>rmax</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span class="bound"><span>r'</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span>
        </span><span class="main"><span>(</span></span><span>votes</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>rmax</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>rmax</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> 
          </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n'</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span class="bound"><span>r'</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>.</span></span><span>  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>rmax</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>no_votes</span><span>
        </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_9160..9168"><span>q_joined</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_9077..9081"><span>that</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>quorums</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_7285..7295"><span>choosable_def</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_6270..6290"><span>quorum_inter_witness</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_10052..10057">votes</span><span>
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>`</span><a class="entity_ref" href="Paxos.html#offset_7296..7305"><span>choosable</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>r'</span></span><span> </span><span class="skolem"><span>v'</span></span><span>`</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>n'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>n'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>quorums</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>r</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_9160..9168"><span>q_joined</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_7285..7295"><span>choosable_def</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>consider</span></span></span><span> </span><span class="main"><span>(</span></span><span>a</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>rmax</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>b</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>rmax</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>c</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="skolem"><span>rmax</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat_neq_iff|fact"><span>nat_neq_iff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>a</span><span>
          </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_8503..8508"><span>prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_10052..10057"><span>votes</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_9077..9081"><span>that</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>`</span><span class="skolem"><span>rmax</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>r</span></span><span>`</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_7458..7473"><span>invariant_2_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_7112..7127"><span>invariant_1_def</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_10551..10552">b</span><span>
          </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>`</span><a class="entity_ref" href="Paxos.html#offset_7296..7305"><span>choosable</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>r'</span></span><span> </span><span class="skolem"><span>v'</span></span><span>`</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>n'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span> </span><span class="skolem"><span>n'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>quorums</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>r</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_9160..9168"><span>q_joined</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_7285..7295"><span>choosable_def</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_8503..8508"><span>prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_10052..10057"><span>votes</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_10551..10552"><span>b</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_7112..7127"><span>invariant_1_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>c</span><span>
          </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10858..10863">hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>n</span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_10052..10057"><span>votes</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_10858..10863"><span>that</span></a><span> </span><span class="quoted"><span class="quoted"><span>`</span><span class="skolem"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>r</span></span><span>`</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
          </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Paxos.html#offset_7296..7305"><span>choosable</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>r'</span></span><span> </span><span class="skolem"><span>v'</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>quorums</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_9160..9168"><span>q_joined</span></a><span> </span><span class="quoted"><span class="quoted"><span>`</span><span class="skolem"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>r</span></span><span>`</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_7285..7295"><span>choosable_def</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_8503..8508"><span>prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_7458..7473"><span>invariant_2_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_7285..7295"><span>choosable_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_11269..11277">abs_vote</span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="skolem"><span>s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="skolem"><span>s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="skolem"><span>s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> 
        </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span class="bound"><span>r'</span></span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_11269..11277"><span>abs_vote</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_8503..8508"><span>prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_8503..8508"><span>prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_7458..7473"><span>invariant_2_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_7112..7127"><span>invariant_1_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_7285..7295"><span>choosable_def</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>abs_decide</span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_8503..8508"><span>prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_7458..7473"><span>invariant_2_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_7285..7295"><span>choosable_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_8419..8430"><span>invariant_2</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Paxos.html#Paxos.invs|attribute"><span class="operator"><span>invs</span></span></a><span class="main"><span>]</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.invariant_3|fact"><span class="entity_def" id="Paxos.paxos_proof.invariant_3|thm"><span class="entity_def" id="offset_11818..11829">invariant_3</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA.invariant|const"><span>invariant</span></a><span> </span><span class="free"><span>abs_ioa</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_7596..7607"><span>invariant_3</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_vcg|method"><span class="operator"><span>inv_vcg</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_7771..7786"><span>abs_trans_cases</span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|fact"><span class="dynamic"><span class="dynamic"><span>inv_defs</span></span></span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_11818..11829"><span>invariant_3</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Paxos.html#Paxos.invs|attribute"><span class="operator"><span>invs</span></span></a><span class="main"><span>]</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.safety|fact"><span class="entity_def" id="Paxos.paxos_proof.safety|thm"><span>safety</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA.invariant|const"><span>invariant</span></a><span> </span><span class="free"><span>abs_ioa</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.safety|const"><span>safety</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12046..12050">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.safety|const"><span>safety</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#offset_7596..7607"><span>invariant_3</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#offset_7440..7451"><span>invariant_2</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.invariant_1|const"><span>invariant_1</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_12046..12050"><span>that</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|fact"><span class="dynamic"><span class="dynamic"><span>inv_defs</span></span></span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_7285..7295"><span>choosable_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder_class.not_less_iff_gr_or_eq|fact"><span>not_less_iff_gr_or_eq</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_6270..6290"><span>quorum_inter_witness</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA.invariant_def|fact"><span>IOA.invariant_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_8256..8267"><span>invariant_1</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_8419..8430"><span>invariant_2</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_11818..11829"><span>invariant_3</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_8256..8267"><span>invariant_1</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Paxos.html#Paxos.invs|attribute"><span class="operator"><span>invs</span></span></a><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_8419..8430"><span>invariant_2</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Paxos.html#Paxos.invs|attribute"><span class="operator"><span>invs</span></span></a><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_11818..11829"><span>invariant_3</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Paxos.html#Paxos.invs|attribute"><span class="operator"><span>invs</span></span></a><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span>]</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>" Proof of Paxos by refinement to abstract paxos. "</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_proof.invariant_4|const"><span>invariant_4</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.invariant_4_def|fact"><span class="entity_def" id="Paxos.paxos_proof.invariant_4_def|thm"><span class="entity_def" id="Paxos.paxos_proof.invariant_4_def_raw|axiom"><span class="entity_def" id="offset_12507..12522">invariant_4_def</span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|attribute"><span class="operator"><span>inv_defs</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>invariant_4</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>maxr</span></span><span> </span><span class="bound"><span>maxv</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxr</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.join_ack_msg|const"><span>join_ack_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>maxr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>maxr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxr</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.vote_msg|const"><span>vote_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span class="bound"><span>r'</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.vote_msg|const"><span>vote_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>maxr</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_proof.invariant_5|const"><span>invariant_5</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.invariant_5_def|fact"><span class="entity_def" id="Paxos.paxos_proof.invariant_5_def|thm"><span class="entity_def" id="Paxos.paxos_proof.invariant_5_def_raw|axiom"><span class="entity_def" id="offset_12756..12771">invariant_5_def</span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|attribute"><span class="operator"><span>inv_defs</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>invariant_5</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>maxr</span></span><span> </span><span class="bound"><span>maxv</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxr</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.join_ack_msg|const"><span>join_ack_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>maxr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.vote_msg|const"><span>vote_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12921..12926">lemma</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.trans_cases|fact"><span class="entity_def" id="Paxos.paxos_proof.trans_cases|thm"><span class="entity_def" id="offset_12927..12938">trans_cases</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="comment1"><span>― ‹A case split rule for analyzing the transition relation by cases›</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#offset_2475..2484"><span>trans_rel</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>s'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span>
  </span><span class="main"><span>(</span></span><span>start_round</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.paxos_ioa.start_round|const"><span>start_round</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>s'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Internal|const"><span>Internal</span></a><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span>
  </span><span class="main"><span>(</span></span><span>join_round</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>maxr</span></span><span> </span><span class="free"><span>maxv</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.paxos_ioa.join_round|const"><span>join_round</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>maxr</span></span><span> </span><span class="free"><span>maxv</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>s'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Internal|const"><span>Internal</span></a><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span>
  </span><span class="main"><span>(</span></span><span>propose</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#offset_1646..1653"><span>propose</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>s'</span></span><span>"</span></span></span><span>  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Internal|const"><span>Internal</span></a><span>"</span></span></span><span class="main"><span>|</span></span><span>
  </span><span class="main"><span>(</span></span><span>vote</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.paxos_ioa.vote|const"><span>vote</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>s'</span></span><span>"</span></span></span><span>  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Internal|const"><span>Internal</span></a><span>"</span></span></span><span class="main"><span>|</span></span><span>
  </span><span class="main"><span>(</span></span><span>decide</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#offset_2324..2330"><span>decide</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>s'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Decision|const"><span>Decision</span></a><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_12921..12926"><span>assms</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>trans_rel.elims</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.invariant_4|fact"><span class="entity_def" id="Paxos.paxos_proof.invariant_4|thm"><span class="entity_def" id="offset_13442..13453">invariant_4</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA.invariant|const"><span>invariant</span></a><span> </span><span class="free"><span>con_ioa</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.invariant_4|const"><span>invariant_4</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_vcg|method"><span class="operator"><span>inv_vcg</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_12927..12938"><span>trans_cases</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|fact"><span class="dynamic"><span class="dynamic"><span>inv_defs</span></span></span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|fact"><span class="dynamic"><span class="dynamic"><span>inv_defs</span></span></span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|fact"><span class="dynamic"><span class="dynamic"><span>inv_defs</span></span></span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|fact"><span class="dynamic"><span class="dynamic"><span>inv_defs</span></span></span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|fact"><span class="dynamic"><span class="dynamic"><span>inv_defs</span></span></span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_13442..13453"><span>invariant_4</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Paxos.html#Paxos.invs|attribute"><span class="operator"><span>invs</span></span></a><span class="main"><span>]</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.invariant_5|fact"><span class="entity_def" id="Paxos.paxos_proof.invariant_5|thm"><span class="entity_def" id="offset_13761..13772">invariant_5</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA.invariant|const"><span>invariant</span></a><span> </span><span class="free"><span>con_ioa</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.invariant_5|const"><span>invariant_5</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_vcg|method"><span class="operator"><span>inv_vcg</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_12927..12938"><span>trans_cases</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|fact"><span class="dynamic"><span class="dynamic"><span>inv_defs</span></span></span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>defer</span></span></span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|fact"><span class="dynamic"><span class="dynamic"><span>inv_defs</span></span></span></a><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.select_convs|fact"><span>state.select_convs</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.select_convs|fact"><span>state.select_convs</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.surjective|fact"><span>state.surjective</span></a><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.update_convs|fact"><span>state.update_convs</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|fact"><span class="dynamic"><span class="dynamic"><span>inv_defs</span></span></span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|fact"><span class="dynamic"><span class="dynamic"><span>inv_defs</span></span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.inv_defs|fact"><span class="dynamic"><span class="dynamic"><span>inv_defs</span></span></span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_13761..13772"><span>invariant_5</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="Paxos.html#Paxos.invs|attribute"><span class="operator"><span>invs</span></span></a><span class="main"><span>]</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_6741..6749"><span>act_defs</span></a><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>del</span></span></span></span></span></span></span></span></span></span><span class="main"><span>]</span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Paxos.paxos_proof.ref_map_def|fact"><span class="entity_def" id="Paxos.paxos_proof.ref_map_def|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_map_def_raw|axiom"><span class="entity_def" id="offset_14198..14208">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Paxos.paxos_proof.ref_map|const"><span>ref_map</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ref_map</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>⦇</span></span><span>votes </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.vote_msg|const"><span>vote_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>,</span></span><span> joined_round </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.join_ack_msg|const"><span>join_ack_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>}</span></span><span class="main"><span>,</span></span><span>
    proposal </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.propose_msg|const"><span>propose_msg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>,</span></span><span> decision </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.decision|const"><span>state.decision</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>⦈</span></span><span>"</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps|fact"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(19)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(18)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(17)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(16)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(15)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(14)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(13)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(12)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(11)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(10)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(9)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(8)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(7)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(6)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(5)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(4)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(3)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(2)|thm"><span class="entity_def" id="Paxos.paxos_proof.ref_proof_simps(1)|thm"><span class="entity_def" id="offset_14393..14408">ref_proof_simps</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_14198..14208"><span>ref_map_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_6477..6487"><span>asig_simps</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_6592..6603"><span>trans_simps</span></a><span> </span><a class="entity_ref" href="Paxos.html#Paxos.trace_def|fact"><span>trace_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#Paxos.schedule_def|fact"><span>schedule_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#Paxos.filter_act_def|fact"><span>filter_act_def</span></a><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.refinement|fact"><span class="entity_def" id="Paxos.paxos_proof.refinement|thm"><span class="entity_def" id="offset_14493..14503">refinement</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IOAutomata.Simulations.html#Simulations.IOA.is_ref_map|const"><span>is_ref_map</span></a><span> </span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="free"><span>con_ioa</span></span><span> </span><span class="free"><span>abs_ioa</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#Paxos.is_ref_map_def|fact"><span>is_ref_map_def</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_14198..14208"><span>ref_map_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#Paxos.ioa_defs|fact"><span class="dynamic"><span class="dynamic"><span>ioa_defs</span></span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.invs|fact"><span class="dynamic"><span class="dynamic"><span>invs</span></span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.instantiate_invs|method"><span class="operator"><span>instantiate_invs</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_6592..6603"><span>trans_simps</span></a><span> </span><a class="entity_ref" href="Paxos.html#Paxos.refines_def|fact"><span>refines_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#Paxos.trace_match_def|fact"><span>trace_match_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_14757..14762">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> s t a </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_14757..14762"><span>prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_12927..12938"><span>trans_cases</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>start_round</span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_14393..14408"><span>ref_proof_simps</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>start_round_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_14994..15004">join_round</span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="skolem"><span>maxr</span></span><span> </span><span class="skolem"><span>maxv</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?s'</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?t'</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><span>⦇</span></span><span>joined_round </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>⦈</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.abstract_paxos_ioa.join_round|const"><span>abs.join_round</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="var"><span>?s'</span></span><span> </span><span class="var"><span>?t'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_14994..15004"><span>join_round</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>join_round_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>abs.join_round_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_14198..14208"><span>ref_map_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?t'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_14994..15004"><span>join_round</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>join_round_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_14198..14208"><span>ref_map_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_14994..15004"><span>join_round</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Internal|const"><span>Internal</span></a><span class="main"><span>,</span></span><span> </span><span class="var"><span>?t'</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_14393..14408"><span>ref_proof_simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_15536..15543">propose</span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?s'</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?t'</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><span>⦇</span></span><span>proposal </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="skolem"><span>r</span></span><span class="main"><span>,</span></span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>⦈</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#offset_3866..3873"><span>abs.propose</span></a><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="var"><span>?s'</span></span><span> </span><span class="var"><span>?t'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>n</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>maxr</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>maxv</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_15729..15736">con_pre</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.propose_msg|const"><span>propose_msg</span></a><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>quorums</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
          </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n'</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>maxr</span></span><span> </span><span class="bound"><span>maxv</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>r</span></span><span class="main"><span>,</span></span><span class="bound"><span>maxr</span></span><span class="main"><span>,</span></span><span class="bound"><span>maxv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.join_ack_msg|const"><span>join_ack_msg</span></a><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span> 
          </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>maxr</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>maxv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.join_ack_msg|const"><span>join_ack_msg</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
          </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>n'</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>maxr'</span></span><span> </span><span class="bound"><span>maxv'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>n'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxr'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>maxv'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.state.join_ack_msg|const"><span>join_ack_msg</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>maxr'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>maxr</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
          </span><span class="main"><span>(</span></span><span class="skolem"><span>maxr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>maxv</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_15536..15543"><span>propose</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>propose_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>quorums</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="var"><span>?s'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> 
        </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="var"><span>?s'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_15729..15736"><span>con_pre</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_14198..14208"><span>ref_map_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> 
        </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>maxr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="skolem"><span>maxr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span class="bound"><span>r'</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="var"><span>?s'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> 
          </span><span class="main"><span>(</span></span><span class="skolem"><span>maxr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>maxr</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="var"><span>?s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span class="bound"><span>r'</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span>
            </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="var"><span>?s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>maxr</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>maxr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_16575..16579">True</span><span>
          </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span class="bound"><span>r'</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="var"><span>?s'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_14757..14762"><span>prems</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_15729..15736"><span>con_pre</span></a><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_14198..14208"><span>ref_map_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_12756..12771"><span>invariant_5_def</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> 
          </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_16575..16579"><span>True</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_14757..14762"><span>prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>,</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_15729..15736"><span>con_pre</span></a><span>
            </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_14198..14208"><span>ref_map_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_12756..12771"><span>invariant_5_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_12507..12522"><span>invariant_4_def</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.bot_nat_0.extremum_strict|fact"><span>bot_nat_0.extremum_strict</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.dual_order.trans|fact"><span>dual_order.trans</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder_neqE|fact"><span>linorder_neqE</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?t'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?s'</span></span><span class="main"><span>⦇</span></span><span>proposal </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="var"><span>?s'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="skolem"><span>r</span></span><span class="main"><span>,</span></span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>⦈</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_14198..14208"><span>ref_map_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span>  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>abs.propose_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?t'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_15536..15543"><span>propose</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>propose_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_14198..14208"><span>ref_map_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_15536..15543"><span>propose</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Internal|const"><span>Internal</span></a><span class="main"><span>,</span></span><span> </span><span class="var"><span>?t'</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_14393..14408"><span>ref_proof_simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_17522..17526">vote</span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?s'</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?t'</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><span>⦇</span></span><span>votes </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="skolem"><span>r</span></span><span class="main"><span>,</span></span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>⦈</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.abstract_paxos_ioa.vote|const"><span>abs.vote</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="var"><span>?s'</span></span><span> </span><span class="var"><span>?t'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_17522..17526"><span>vote</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.proposal|const"><span>proposal</span></a><span> </span><span class="var"><span>?s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span class="bound"><span>r'</span></span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="var"><span>?s'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
      </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.joined_round|const"><span>joined_round</span></a><span> </span><span class="var"><span>?s'</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>vote_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_14198..14208"><span>ref_map_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_17522..17526"><span>vote</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?t'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?s'</span></span><span class="main"><span>⦇</span></span><span>votes </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="var"><span>?s'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>⦈</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>vote_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_14198..14208"><span>ref_map_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>abs.vote_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?t'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_17522..17526"><span>vote</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_5790..5796"><span>vote_def</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_14198..14208"><span>ref_map_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_17522..17526"><span>vote</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Internal|const"><span>Internal</span></a><span class="main"><span>,</span></span><span> 
        </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><span>⦇</span></span><span>votes </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.votes|const"><span>votes</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="skolem"><span>r</span></span><span class="main"><span>,</span></span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>⦈</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_14393..14408"><span>ref_proof_simps</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>decide</span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_action.Decision|const"><span>Decision</span></a><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>,</span></span><span> 
        </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><span>⦇</span></span><span>decision </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Paxos.html#Paxos.abstract_state.decision|const"><span>decision</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Paxos.html#Paxos.paxos_proof.ref_map|const"><span>ref_map</span></a><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="skolem"><span>r</span></span><span class="main"><span>,</span></span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>⦈</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_14393..14408"><span>ref_proof_simps</span></a><span> </span><a class="entity_ref" href="Paxos.html#offset_6741..6749"><span>act_defs</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Paxos.paxos_proof.trace_inclusion|fact"><span class="entity_def" id="Paxos.paxos_proof.trace_inclusion|thm"><span>trace_inclusion</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA.traces|const"><span>traces</span></a><span> </span><span class="free"><span>con_ioa</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA.traces|const"><span>traces</span></a><span> </span><span class="free"><span>abs_ioa</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA.externals|const"><span>externals</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.ioa.asig|const"><span>ioa.asig</span></a><span> </span><span class="free"><span>con_ioa</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.IOA.externals|const"><span>externals</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IOAutomata.IOA.html#IOA.ioa.asig|const"><span>ioa.asig</span></a><span> </span><span class="free"><span>abs_ioa</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><a class="entity_ref" href="Paxos.html#offset_6477..6487"><span>asig_simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Paxos.html#offset_14493..14503"><span>refinement</span></a><span> </span><a class="entity_ref" href="Paxos.html#Paxos.ref_map_soundness|fact"><span>ref_map_soundness</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
  
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>