<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory FO-Paxos</title>
</head>


<body>
<div class="head">
<h1>Theory FO-Paxos</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span class="quoted"><span>"</span><a href="FO-Paxos.html"><span>FO-Paxos</span></a><span>"</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="../../HOL/HOL/Main.html"><span>Main</span></a><span> </span><span class="quoted"><span>"</span><a href="../../HOL/HOL-Statespace/StateSpaceSyntax.html"><span>HOL-Statespace.StateSpaceSyntax</span></a><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We try to follow the Ivy proof of the isolate abs available here: </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>url</span></span><span> </span><a href="https://github.com/nano-o/ivy-proofs/blob/master/paxos/paxos.ivy"><span>"https://github.com/nano-o/ivy-proofs/blob/master/paxos/paxos.ivy"</span></a><span class="antiquote"><span>}</span></span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>"Setting up the logical environment"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>sledgehammer_params</span></span></span><span class="main"><span>[</span></span><span>timeout</span><span class="main"><span>=</span></span><span>3000</span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="FO-Paxos.vars.axioms|fact"><span class="entity_def" id="FO-Paxos.vars.intro|fact"><span class="entity_def" id="FO-Paxos.vars_def|fact"><span class="entity_def" id="FO-Paxos.vars_valuetypes.axioms|fact"><span class="entity_def" id="FO-Paxos.vars_valuetypes.intro|fact"><span class="entity_def" id="FO-Paxos.vars_valuetypes_def|fact"><span class="entity_def" id="FO-Paxos.vars_namespace.distinct_names|fact"><span class="entity_def" id="FO-Paxos.vars_namespace.intro|fact"><span class="entity_def" id="FO-Paxos.vars_namespace_def|fact"><span class="entity_def" id="FO-Paxos.vars|locale"><span class="entity_def" id="FO-Paxos.vars_valuetypes|locale"><span class="entity_def" id="FO-Paxos.vars_namespace|locale"><span class="entity_def" id="FO-Paxos.vars.axioms(2)|thm"><span class="entity_def" id="FO-Paxos.vars.axioms(1)|thm"><span class="entity_def" id="FO-Paxos.vars.intro|thm"><span class="entity_def" id="FO-Paxos.vars_def|thm"><span class="entity_def" id="FO-Paxos.vars_valuetypes.axioms(3)|thm"><span class="entity_def" id="FO-Paxos.vars_valuetypes.axioms(2)|thm"><span class="entity_def" id="FO-Paxos.vars_valuetypes.axioms(1)|thm"><span class="entity_def" id="FO-Paxos.vars_valuetypes.intro|thm"><span class="entity_def" id="FO-Paxos.vars_valuetypes_def|thm"><span class="entity_def" id="FO-Paxos.vars_namespace.distinct_names|thm"><span class="entity_def" id="FO-Paxos.vars_namespace.intro|thm"><span class="entity_def" id="FO-Paxos.vars_namespace_def|thm"><span class="entity_def" id="FO-Paxos.vars_def|axiom"><span class="entity_def" id="FO-Paxos.vars_valuetypes_def|axiom"><span class="entity_def" id="FO-Paxos.vars_namespace_def|axiom"><span class="entity_def" id="FO-Paxos.vars|const"><span class="entity_def" id="FO-Paxos.vars_valuetypes|const"><span class="entity_def" id="FO-Paxos.vars_namespace|const"><span>statespace</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'n</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'r</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> vars </span><span class="main"><span>=</span></span><span>
  vote </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'n</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'r</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder|class"><span class="tclass"><span>linorder</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span>
  left_round </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'n</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'r</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span>
  proposal </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'r</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span>
  decision </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'n</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'r</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="FO-Paxos.test.axioms|fact"><span class="entity_def" id="FO-Paxos.test.intro|fact"><span class="entity_def" id="FO-Paxos.test_def|fact"><span class="entity_def" id="FO-Paxos.test.axioms|thm"><span class="entity_def" id="FO-Paxos.test.intro|thm"><span class="entity_def" id="FO-Paxos.test_def|thm"><span class="entity_def" id="FO-Paxos.test_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="FO-Paxos.test|locale"><span class="entity_def" id="FO-Paxos.test|const"><span>test</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#FO-Paxos.vars|locale"><span>vars</span></a><span>

</span><span class="keyword1"><span class="command"><span>no_notation</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="const"><span>Set.member</span></span></a><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>‹</span><span class="keyword1"><span>'(∈')</span></span><span>›</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>no_notation</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span class="const"><span>Set.member</span></span></a><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>‹</span><span class="keyword3"><span>(‹notation=‹infix ∈››</span></span><span>_</span><span class="keyword3"><span>/ </span></span><span class="keyword1"><span>∈</span></span><span> _</span><span class="keyword3"><span>)</span></span><span>›</span></span><span> </span><span class="main"><span>[</span></span><span>51</span><span class="main"><span>,</span></span><span> 51</span><span class="main"><span>]</span></span><span> 50</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="FO-Paxos.epr_paxos.axioms|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.intro|fact"><span class="entity_def" id="FO-Paxos.epr_paxos_def|fact"><span class="entity_def" id="FO-Paxos.epr_paxos_axioms.intro|fact"><span class="entity_def" id="FO-Paxos.epr_paxos_axioms_def|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.axioms(2)|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.axioms(1)|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.intro|thm"><span class="entity_def" id="FO-Paxos.epr_paxos_def|thm"><span class="entity_def" id="FO-Paxos.epr_paxos_axioms.intro|thm"><span class="entity_def" id="FO-Paxos.epr_paxos_axioms_def|thm"><span class="entity_def" id="FO-Paxos.epr_paxos_def|axiom"><span class="entity_def" id="FO-Paxos.epr_paxos_axioms_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="FO-Paxos.epr_paxos|locale"><span class="entity_def" id="FO-Paxos.epr_paxos|const"><span class="entity_def" id="FO-Paxos.epr_paxos_axioms|const"><span class="entity_def" id="offset_607..616">epr_paxos</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#FO-Paxos.vars|locale"><span>vars</span></a><span> _ _ _ _ </span><span class="quoted"><span class="free"><span>project_HOL_bool_'v_fun_'r_fun_'n_fun</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>project_HOL_bool_'v_fun_'r_fun_'n_fun</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>_</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'n</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'r</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder|class"><span class="tclass"><span>linorder</span></span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="comment1"><span>― ‹boilerplate to unify type variables›</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>quorum_member</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'n</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'q</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span class="tconst"><span>bool</span></span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>∈</span></span><span>"</span></span><span> 50</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>q1</span></span><span> </span><span class="bound"><span>q2</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="bound"><span>q1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="bound"><span>q2</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹quorums intersect›</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>"Specification of the algorithm"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="FO-Paxos.epr_paxos.init_def|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.init_def|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.init_def_raw|axiom"><span class="entity_def" id="offset_967..977">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="FO-Paxos.epr_paxos.init.cong|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.init.cong|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.init|const"><span class="entity_def" id="offset_978..982">init</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>init</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span>
      </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>vote</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>left_round</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>proposal</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>decision</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="FO-Paxos.epr_paxos.join_round_def|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.join_round_def|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.join_round_def_raw|axiom"><span class="entity_def" id="offset_1111..1121">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="FO-Paxos.epr_paxos.join_round.cong|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.join_round.cong|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.join_round|const"><span class="entity_def" id="offset_1122..1132">join_round</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>join_round</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>left_round</span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>&lt;</span></span><span>left_round </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>left_round</span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>left_round</span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>&gt;</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="FO-Paxos.epr_paxos.join_round_2_def|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.join_round_2_def|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.join_round_2_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="FO-Paxos.epr_paxos.join_round_2.cong|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.join_round_2.cong|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.join_round_2|const"><span>join_round_2</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>join_round_2</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>left_round</span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>lrn</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> 
          </span><span class="free"><span class="bound"><span class="entity"><span>c'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>&lt;</span></span><span>left_round </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>left_round</span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="bound"><span>lrn</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>&gt;</span></span><span>
        </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>lrn</span></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>left_round</span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="FO-Paxos.epr_paxos.propose_def|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.propose_def|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.propose_def_raw|axiom"><span class="entity_def" id="offset_1491..1501">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="FO-Paxos.epr_paxos.propose.cong|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.propose.cong|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.propose|const"><span class="entity_def" id="offset_1502..1509">propose</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>propose</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>maxr</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>proposal</span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>left_round</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r'</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span>
        </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="bound"><span>v'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>vote</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="bound"><span>v'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
        </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="main"><span>(</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>maxr</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span>
            </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>vote</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>maxr</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="bound"><span>v'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>vote</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="bound"><span>v'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>maxr</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>&lt;</span></span><span>proposal </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>proposal</span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>proposal</span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span class="const"><span>True</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>&gt;</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="FO-Paxos.epr_paxos.cast_vote_def|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.cast_vote_def|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.cast_vote_def_raw|axiom"><span class="entity_def" id="offset_1916..1926">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="FO-Paxos.epr_paxos.cast_vote.cong|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.cast_vote.cong|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.cast_vote|const"><span class="entity_def" id="offset_1927..1936">cast_vote</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cast_vote</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
      </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>left_round</span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>proposal</span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>&lt;</span></span><span>vote </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>vote</span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>vote</span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>vote</span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span class="const"><span>True</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>&gt;</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="FO-Paxos.epr_paxos.decide_def|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.decide_def|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.decide_def_raw|axiom"><span class="entity_def" id="offset_2102..2112">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="FO-Paxos.epr_paxos.decide.cong|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.decide.cong|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.decide|const"><span class="entity_def" id="offset_2113..2119">decide</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>decide</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>vote</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>&lt;</span></span><span>decision </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>decision</span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>decision</span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>decision</span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>(</span></a></span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span class="const"><span>True</span></span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd|const"><span>)</span></a></span><span class="main"><span>&gt;</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="FO-Paxos.epr_paxos.trans_rel_def|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.trans_rel_def|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.trans_rel_def_raw|axiom"><span class="entity_def" id="offset_2288..2298">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="FO-Paxos.epr_paxos.trans_rel.cong|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.trans_rel.cong|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.trans_rel|const"><span class="entity_def" id="offset_2299..2308">trans_rel</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>trans_rel</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>maxr</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
      </span><a class="entity_ref" href="FO-Paxos.html#offset_1502..1509"><span class="const"><span>propose</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>maxr</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_1122..1132"><span class="const"><span>join_round</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_1927..1936"><span class="const"><span>cast_vote</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2113..2119"><span class="const"><span>decide</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>"Invariants"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="FO-Paxos.epr_paxos.inv1_def|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.inv1_def|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.inv1_def_raw|axiom"><span class="entity_def" id="offset_2481..2491">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="FO-Paxos.epr_paxos.inv1.cong|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.inv1.cong|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.inv1|const"><span class="entity_def" id="offset_2492..2496">inv1</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>inv1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="bound"><span>v'</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>proposal</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>proposal</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>v'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="FO-Paxos.epr_paxos.inv2_def|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.inv2_def|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.inv2_def_raw|axiom"><span class="entity_def" id="offset_2573..2583">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="FO-Paxos.epr_paxos.inv2.cong|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.inv2.cong|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.inv2|const"><span class="entity_def" id="offset_2584..2588">inv2</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>inv2</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>vote</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>proposal</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="FO-Paxos.epr_paxos.inv3_def|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.inv3_def|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.inv3_def_raw|axiom"><span class="entity_def" id="offset_2652..2662">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="FO-Paxos.epr_paxos.inv3.cong|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.inv3.cong|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.inv3|const"><span class="entity_def" id="offset_2663..2667">inv3</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>inv3</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>decision</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>vote</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="FO-Paxos.epr_paxos.inv4_def|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.inv4_def|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.inv4_def_raw|axiom"><span class="entity_def" id="offset_2755..2765">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="FO-Paxos.epr_paxos.inv4.cong|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.inv4.cong|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.inv4|const"><span class="entity_def" id="offset_2766..2770">inv4</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>inv4</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>r1</span></span><span> </span><span class="bound"><span>r2</span></span><span> </span><span class="bound"><span>v1</span></span><span> </span><span class="bound"><span>v2</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>r1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>r2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>proposal</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>r2</span></span><span> </span><span class="bound"><span>v2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>v1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="bound"><span>v2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>left_round</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>vote</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>r1</span></span><span> </span><span class="bound"><span>v1</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>"Induction proofs"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="FO-Paxos.epr_paxos.l1|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.l1(2)|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.l1(1)|thm"><span>l1</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_978..982"><span class="const"><span>init</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2492..2496"><span class="const"><span>inv1</span></span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_2299..2308"><span class="const"><span>trans_rel</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>maxr</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2492..2496"><span class="const"><span>inv1</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2492..2496"><span class="const"><span>inv1</span></span></a><span> </span><span class="free"><span>c'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_978..982"><span class="const"><span>init</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2492..2496"><span class="const"><span>inv1</span></span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_967..977"><span>init_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2481..2491"><span>inv1_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_2299..2308"><span class="const"><span>trans_rel</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>maxr</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2492..2496"><span class="const"><span>inv1</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2492..2496"><span class="const"><span>inv1</span></span></a><span> </span><span class="free"><span>c'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2288..2298"><span>trans_rel_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_1491..1501"><span>propose_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_1111..1121"><span>join_round_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_1916..1926"><span>cast_vote_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2102..2112"><span>decide_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2481..2491"><span>inv1_def</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="FO-Paxos.epr_paxos.l2|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.l2(2)|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.l2(1)|thm"><span>l2</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_978..982"><span class="const"><span>init</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2584..2588"><span class="const"><span>inv2</span></span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_2299..2308"><span class="const"><span>trans_rel</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>maxr</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2584..2588"><span class="const"><span>inv2</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2584..2588"><span class="const"><span>inv2</span></span></a><span> </span><span class="free"><span>c'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_978..982"><span class="const"><span>init</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2584..2588"><span class="const"><span>inv2</span></span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_967..977"><span>init_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2573..2583"><span>inv2_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_2299..2308"><span class="const"><span>trans_rel</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>maxr</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2584..2588"><span class="const"><span>inv2</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2584..2588"><span class="const"><span>inv2</span></span></a><span> </span><span class="free"><span>c'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2288..2298"><span>trans_rel_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_1491..1501"><span>propose_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_1111..1121"><span>join_round_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_1916..1926"><span>cast_vote_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2102..2112"><span>decide_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2573..2583"><span>inv2_def</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="FO-Paxos.epr_paxos.l3|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.l3(2)|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.l3(1)|thm"><span>l3</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_978..982"><span class="const"><span>init</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2663..2667"><span class="const"><span>inv3</span></span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_2299..2308"><span class="const"><span>trans_rel</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>maxr</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2663..2667"><span class="const"><span>inv3</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2663..2667"><span class="const"><span>inv3</span></span></a><span> </span><span class="free"><span>c'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_978..982"><span class="const"><span>init</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2663..2667"><span class="const"><span>inv3</span></span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_967..977"><span>init_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2652..2662"><span>inv3_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_2299..2308"><span class="const"><span>trans_rel</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>maxr</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2663..2667"><span class="const"><span>inv3</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2663..2667"><span class="const"><span>inv3</span></span></a><span> </span><span class="free"><span>c'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2288..2298"><span>trans_rel_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_1491..1501"><span>propose_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_1111..1121"><span>join_round_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_1916..1926"><span>cast_vote_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2102..2112"><span>decide_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2652..2662"><span>inv3_def</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>|</span></span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="FO-Paxos.epr_paxos.l4|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.l4(2)|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.l4(1)|thm"><span>l4</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_978..982"><span class="const"><span>init</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2766..2770"><span class="const"><span>inv4</span></span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_2299..2308"><span class="const"><span>trans_rel</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>maxr</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2492..2496"><span class="const"><span>inv1</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2584..2588"><span class="const"><span>inv2</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2766..2770"><span class="const"><span>inv4</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2766..2770"><span class="const"><span>inv4</span></span></a><span> </span><span class="free"><span>c'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_978..982"><span class="const"><span>init</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2766..2770"><span class="const"><span>inv4</span></span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_967..977"><span>init_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2755..2765"><span>inv4_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_2299..2308"><span class="const"><span>trans_rel</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>c'</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>maxr</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2492..2496"><span class="const"><span>inv1</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2584..2588"><span class="const"><span>inv2</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2766..2770"><span class="const"><span>inv4</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2766..2770"><span class="const"><span>inv4</span></span></a><span> </span><span class="free"><span>c'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2288..2298"><span>trans_rel_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_607..616"><span>epr_paxos_axioms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#FO-Paxos.epr_paxos_def|fact"><span>epr_paxos_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#FO-Paxos.vars_def|fact"><span>vars_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_1491..1501"><span>propose_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_1111..1121"><span>join_round_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_1916..1926"><span>cast_vote_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2102..2112"><span>decide_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2481..2491"><span>inv1_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2573..2583"><span>inv2_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2755..2765"><span>inv4_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#FO-Paxos.epr_paxos_axioms_def|fact"><span>epr_paxos_axioms_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder_class.nle_le|fact"><span>nle_le</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder_class.not_le_imp_less|fact"><span>not_le_imp_less</span></a><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>"The invariants imply safety"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="FO-Paxos.epr_paxos.safety_def|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.safety_def|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.safety_def_raw|axiom"><span class="entity_def" id="offset_4730..4740">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="FO-Paxos.epr_paxos.safety.cong|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.safety.cong|thm"><span class="entity_def" id="FO-Paxos.epr_paxos.safety|const"><span class="entity_def" id="offset_4741..4747">safety</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>safety</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>n1</span></span><span> </span><span class="bound"><span>n2</span></span><span> </span><span class="bound"><span>r1</span></span><span> </span><span class="bound"><span>r2</span></span><span> </span><span class="bound"><span>v1</span></span><span> </span><span class="bound"><span>v2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>decision</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>n1</span></span><span> </span><span class="bound"><span>r1</span></span><span> </span><span class="bound"><span>v1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>⋅</span></span><span>decision</span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>n2</span></span><span> </span><span class="bound"><span>r2</span></span><span> </span><span class="bound"><span>v2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>v1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>v2</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="FO-Paxos.epr_paxos.safety|fact"><span class="entity_def" id="FO-Paxos.epr_paxos.safety|thm"><span>safety</span></span></span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="FO-Paxos.html#offset_2492..2496"><span class="const"><span>inv1</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2584..2588"><span class="const"><span>inv2</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2663..2667"><span class="const"><span>inv3</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2766..2770"><span class="const"><span>inv4</span></span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_4741..4747"><span class="const"><span>safety</span></span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_607..616"><span>epr_paxos_axioms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#FO-Paxos.epr_paxos_def|fact"><span>epr_paxos_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#FO-Paxos.epr_paxos_axioms_def|fact"><span>epr_paxos_axioms_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#FO-Paxos.vars_def|fact"><span>vars_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2481..2491"><span>inv1_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2573..2583"><span>inv2_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2652..2662"><span>inv3_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_2755..2765"><span>inv4_def</span></a><span> </span><a class="entity_ref" href="FO-Paxos.html#offset_4730..4740"><span>safety_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder_class.linorder_cases|fact"><span>linorder_cases</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>